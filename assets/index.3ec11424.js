const Hs=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}};Hs();function oe(){}function Cs(t){return t()}function Lt(){return Object.create(null)}function he(t){t.forEach(Cs)}function Vs(t){return typeof t=="function"}function ve(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Zs(t){return Object.keys(t).length===0}function xe(t){return t==null?"":t}function p(t,e){t.appendChild(e)}function S(t,e,s){t.insertBefore(e,s||null)}function q(t){t.parentNode.removeChild(t)}function Re(t,e){for(let s=0;s<t.length;s+=1)t[s]&&t[s].d(e)}function _(t){return document.createElement(t)}function V(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function j(t){return document.createTextNode(t)}function B(){return j(" ")}function Ce(){return j("")}function T(t,e,s,n){return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)}function l(t,e,s){s==null?t.removeAttribute(e):t.getAttribute(e)!==s&&t.setAttribute(e,s)}function Us(t){return Array.from(t.childNodes)}function ae(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Ne(t,e){t.value=e==null?"":e}function O(t,e,s,n){s===null?t.style.removeProperty(e):t.style.setProperty(e,s,n?"important":"")}let je;function Fs(){if(je===void 0){je=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch{je=!0}}return je}function Ys(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const n=_("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=Fs();let o;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=T(window,"message",r=>{r.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{o=T(n.contentWindow,"resize",e)}),p(t,n),()=>{(i||o&&n.contentWindow)&&o(),q(n)}}let mt;function Ye(t){mt=t}function Ws(t,e){const s=t.$$.callbacks[e.type];s&&s.slice().forEach(n=>n.call(this,e))}const Ue=[],ye=[],et=[],qt=[],Ks=Promise.resolve();let ht=!1;function Xs(){ht||(ht=!0,Ks.then(Is))}function lt(t){et.push(t)}const ct=new Set;let Ge=0;function Is(){const t=mt;do{for(;Ge<Ue.length;){const e=Ue[Ge];Ge++,Ye(e),Js(e.$$)}for(Ye(null),Ue.length=0,Ge=0;ye.length;)ye.pop()();for(let e=0;e<et.length;e+=1){const s=et[e];ct.has(s)||(ct.add(s),s())}et.length=0}while(Ue.length);for(;qt.length;)qt.pop()();ht=!1,ct.clear(),Ye(t)}function Js(t){if(t.fragment!==null){t.update(),he(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(lt)}}const tt=new Set;let ze;function js(){ze={r:0,c:[],p:ze}}function Gs(){ze.r||he(ze.c),ze=ze.p}function ke(t,e){t&&t.i&&(tt.delete(t),t.i(e))}function we(t,e,s,n){if(t&&t.o){if(tt.has(t))return;tt.add(t),ze.c.push(()=>{tt.delete(t),n&&(s&&t.d(1),n())}),t.o(e)}}const We=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function De(t){t&&t.c()}function Se(t,e,s,n){const{fragment:i,on_mount:o,on_destroy:r,after_update:c}=t.$$;i&&i.m(e,s),n||lt(()=>{const d=o.map(Cs).filter(Vs);r?r.push(...d):he(d),t.$$.on_mount=[]}),c.forEach(lt)}function Ee(t,e){const s=t.$$;s.fragment!==null&&(he(s.on_destroy),s.fragment&&s.fragment.d(e),s.on_destroy=s.fragment=null,s.ctx=[])}function Qs(t,e){t.$$.dirty[0]===-1&&(Ue.push(t),Xs(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Be(t,e,s,n,i,o,r,c=[-1]){const d=mt;Ye(t);const a=t.$$={fragment:null,ctx:null,props:o,update:oe,not_equal:i,bound:Lt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:Lt(),dirty:c,skip_bound:!1,root:e.target||d.$$.root};r&&r(a.root);let h=!1;if(a.ctx=s?s(t,e.props||{},(f,u,...g)=>{const v=g.length?g[0]:u;return a.ctx&&i(a.ctx[f],a.ctx[f]=v)&&(!a.skip_bound&&a.bound[f]&&a.bound[f](v),h&&Qs(t,f)),u}):[],a.update(),h=!0,he(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const f=Us(e.target);a.fragment&&a.fragment.l(f),f.forEach(q)}else a.fragment&&a.fragment.c();e.intro&&ke(t.$$.fragment),Se(t,e.target,e.anchor,e.customElement),Is()}Ye(d)}class Ae{$destroy(){Ee(this,1),this.$destroy=oe}$on(e,s){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(s),()=>{const i=n.indexOf(s);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Zs(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const{window:$s}=We;function Mt(t,e,s){const n=t.slice();return n[47]=e[s],n}function St(t,e,s){const n=t.slice();return n[41]=e[s],n[42]=e,n[43]=s,n}function Et(t,e,s){const n=t.slice();return n[44]=e[s],n[45]=e,n[46]=s,n}function en(t){let e=t[0]&&t[11],s,n=At(t);return{c(){n.c(),s=Ce()},m(i,o){n.m(i,o),S(i,s,o)},p(i,o){o[0]&2049&&ve(e,e=i[0]&&i[11])?(n.d(1),n=At(i),n.c(),n.m(s.parentNode,s)):n.p(i,o)},d(i){i&&q(s),n.d(i)}}}function tn(t){let e,s=t[2]?t[2].administration.includes(t[1].userId):!1,n,i=t[0],o=[];for(let c=0;c<i.length;c+=1)o[c]=zt(St(t,i,c));let r=s&&Pt(t);return{c(){for(let c=0;c<o.length;c+=1)o[c].c();e=B(),r&&r.c(),n=Ce()},m(c,d){for(let a=0;a<o.length;a+=1)o[a].m(c,d);S(c,e,d),r&&r.m(c,d),S(c,n,d)},p(c,d){if(d[0]&1308159){i=c[0];let a;for(a=0;a<i.length;a+=1){const h=St(c,i,a);o[a]?o[a].p(h,d):(o[a]=zt(h),o[a].c(),o[a].m(e.parentNode,e))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}d[0]&6&&(s=c[2]?c[2].administration.includes(c[1].userId):!1),s?r?r.p(c,d):(r=Pt(c),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(c){Re(o,c),c&&q(e),r&&r.d(c),c&&q(n)}}}function Bt(t){let e,s,n,i,o=t[47].name+"",r,c,d,a,h;function f(){return t[38](t[47])}return{c(){e=_("div"),s=_("div"),n=B(),i=_("p"),r=j(o),c=B(),O(s,"background-image","url("+t[47].profile+")"),l(s,"class","svelte-1vkns8x"),l(i,"class","svelte-1vkns8x"),l(e,"class",d="user "+(t[47].userId==t[11]?"selected":"")+" svelte-1vkns8x")},m(u,g){S(u,e,g),p(e,s),p(e,n),p(e,i),p(i,r),p(e,c),a||(h=T(e,"click",f),a=!0)},p(u,g){t=u,g[0]&1&&O(s,"background-image","url("+t[47].profile+")"),g[0]&1&&o!==(o=t[47].name+"")&&ae(r,o),g[0]&2049&&d!==(d="user "+(t[47].userId==t[11]?"selected":"")+" svelte-1vkns8x")&&l(e,"class",d)},d(u){u&&q(e),a=!1,h()}}}function At(t){let e,s=t[0],n=[];for(let i=0;i<s.length;i+=1)n[i]=Bt(Mt(t,s,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Ce()},m(i,o){for(let r=0;r<n.length;r+=1)n[r].m(i,o);S(i,e,o)},p(i,o){if(o[0]&2099201){s=i[0];let r;for(r=0;r<s.length;r+=1){const c=Mt(i,s,r);n[r]?n[r].p(c,o):(n[r]=Bt(c),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=s.length}},d(i){Re(n,i),i&&q(e)}}}function Dt(t){let e,s,n,i,o,r,c,d,a,h,f,u,g,v,b,x;function L(){return t[27](t[43],t[41])}function C(){return t[28](t[43],t[41])}function m(){return t[29](t[41])}return{c(){e=V("svg"),s=V("path"),o=B(),r=V("svg"),c=V("path"),a=B(),h=_("div"),f=j(`\uCC44\uB110\r
                            `),u=V("svg"),g=V("path"),l(s,"fill","#000"),l(s,"d",n=t[7][t[43]]?ot:rt),l(s,"class","svelte-1vkns8x"),l(e,"class",i="catmenu "+(t[7][t[43]]?"edit":"")+" svelte-1vkns8x"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"width","15"),l(e,"height","15"),l(e,"fill","none"),l(e,"viewBox","0 0 24 24"),l(c,"fill","#000"),l(c,"d","M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10Zm3.17-7.83a.996.996 0 0 1 1.41 0L12 12.59l1.42-1.42a.996.996 0 1 1 1.41 1.41L13.41 14l1.42 1.42a.996.996 0 1 1-1.41 1.41L12 15.41l-1.42 1.42a.996.996 0 1 1-1.41-1.41L10.59 14l-1.42-1.42a.996.996 0 0 1 0-1.41ZM15.5 4l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1h-2.5Z"),l(c,"class","svelte-1vkns8x"),l(r,"class",d="catdel "+(t[7][t[43]]?"on":"")+" svelte-1vkns8x"),l(r,"xmlns","http://www.w3.org/2000/svg"),l(r,"width","15"),l(r,"height","15"),l(r,"fill","none"),l(r,"viewBox","0 0 24 24"),l(g,"fill","#000"),l(g,"d","M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1Z"),l(g,"class","svelte-1vkns8x"),l(u,"xmlns","http://www.w3.org/2000/svg"),l(u,"width","15"),l(u,"height","15"),l(u,"fill","none"),l(u,"viewBox","0 0 24 25"),l(u,"class","svelte-1vkns8x"),l(h,"class",v="addChannel "+(t[6][t[43]]||t[7][t[43]]?"disable":"")+" svelte-1vkns8x")},m(k,M){S(k,e,M),p(e,s),S(k,o,M),S(k,r,M),p(r,c),S(k,a,M),S(k,h,M),p(h,f),p(h,u),p(u,g),b||(x=[T(e,"click",L),T(r,"click",C),T(h,"click",m)],b=!0)},p(k,M){t=k,M[0]&128&&n!==(n=t[7][t[43]]?ot:rt)&&l(s,"d",n),M[0]&128&&i!==(i="catmenu "+(t[7][t[43]]?"edit":"")+" svelte-1vkns8x")&&l(e,"class",i),M[0]&128&&d!==(d="catdel "+(t[7][t[43]]?"on":"")+" svelte-1vkns8x")&&l(r,"class",d),M[0]&192&&v!==(v="addChannel "+(t[6][t[43]]||t[7][t[43]]?"disable":"")+" svelte-1vkns8x")&&l(h,"class",v)},d(k){k&&q(e),k&&q(o),k&&q(r),k&&q(a),k&&q(h),b=!1,he(x)}}}function sn(t){let e,s;return{c(){e=V("svg"),s=V("path"),l(s,"d","M18 0H2C0.9 0 0 0.9 0 2V17.5858C0 18.4767 1.07714 18.9229 1.70711 18.2929L3.70711 16.2929C3.89464 16.1054 4.149 16 4.41421 16H18C19.1 16 20 15.1 20 14V2C20 0.9 19.1 0 18 0Z"),l(s,"fill","black"),l(s,"class","svelte-1vkns8x"),l(e,"class","icon svelte-1vkns8x"),l(e,"width","14"),l(e,"height","19"),l(e,"viewBox","0 0 20 19"),l(e,"fill","none"),l(e,"xmlns","http://www.w3.org/2000/svg")},m(n,i){S(n,e,i),p(e,s)},d(n){n&&q(e)}}}function nn(t){let e,s;return{c(){e=V("svg"),s=V("path"),l(s,"fill-rule","evenodd"),l(s,"clip-rule","evenodd"),l(s,"d","M9.87684 0.0841614C9.48316 -0.0869507 9.03053 0.0074943 8.72947 0.325274L4.21053 5.55419H1.05263C0.473684 5.55419 0 6.05531 0 6.66531V13.332C0 13.9431 0.473684 14.4431 1.05263 14.4431H4.21053L8.72947 19.6742C9.03053 19.992 9.48316 20.0876 9.87684 19.9153C10.2705 19.7431 10.5263 19.3376 10.5263 18.8876V1.10972C10.5263 0.661942 10.2705 0.254162 9.87684 0.0841614ZM12.6316 2.22074V4.44298C15.5337 4.44298 17.8947 6.93632 17.8947 9.99862C17.8947 13.062 15.5337 15.5542 12.6316 15.5542V17.7764C16.6947 17.7764 20 14.2886 20 9.99862C20 5.71076 16.6947 2.22074 12.6316 2.22074ZM12.6316 6.66521C14.3726 6.66521 15.7895 8.16194 15.7895 9.99862C15.7895 11.8375 14.3726 13.332 12.6316 13.332V11.1097C13.2116 11.1097 13.6842 10.6108 13.6842 9.99862C13.6842 9.38639 13.2116 8.8875 12.6316 8.8875V6.66521Z"),l(s,"fill","black"),l(s,"class","svelte-1vkns8x"),l(e,"class","icon svelte-1vkns8x"),l(e,"width","20"),l(e,"height","20"),l(e,"viewBox","0 0 20 20"),l(e,"fill","none"),l(e,"xmlns","http://www.w3.org/2000/svg")},m(n,i){S(n,e,i),p(e,s)},d(n){n&&q(e)}}}function Tt(t){let e,s,n,i;function o(){return t[33](t[43],t[46],t[41],t[44])}return{c(){e=V("svg"),s=V("path"),l(s,"fill","#000"),l(s,"d","M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10Zm3.17-7.83a.996.996 0 0 1 1.41 0L12 12.59l1.42-1.42a.996.996 0 1 1 1.41 1.41L13.41 14l1.42 1.42a.996.996 0 1 1-1.41 1.41L12 15.41l-1.42 1.42a.996.996 0 1 1-1.41-1.41L10.59 14l-1.42-1.42a.996.996 0 0 1 0-1.41ZM15.5 4l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1h-2.5Z"),l(s,"class","svelte-1vkns8x"),l(e,"class","deleteChannel svelte-1vkns8x"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"width","20"),l(e,"height","20"),l(e,"fill","none"),l(e,"viewBox","0 0 24 24")},m(r,c){S(r,e,c),p(e,s),n||(i=T(e,"click",o),n=!0)},p(r,c){t=r},d(r){r&&q(e),n=!1,i()}}}function Nt(t){let e,s,n,i,o,r;function c(){return t[34](t[43],t[46],t[41],t[44])}return{c(){e=V("svg"),s=V("path"),l(s,"fill","#000"),l(s,"d",n=t[5][t[10]&&t[43]?t[10].slice(0,t[43]).reduce(Ft)+t[46]:t[46]]?ot:rt),l(s,"class","svelte-1vkns8x"),l(e,"class",i="menu "+(t[5][t[10]&&t[43]?t[10].slice(0,t[43]).reduce(Yt)+t[46]:t[46]]?"edit":"")+" svelte-1vkns8x"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"width","20"),l(e,"height","20"),l(e,"fill","none"),l(e,"viewBox","0 0 24 24")},m(d,a){S(d,e,a),p(e,s),o||(r=T(e,"click",c),o=!0)},p(d,a){t=d,a[0]&1056&&n!==(n=t[5][t[10]&&t[43]?t[10].slice(0,t[43]).reduce(Ft)+t[46]:t[46]]?ot:rt)&&l(s,"d",n),a[0]&1056&&i!==(i="menu "+(t[5][t[10]&&t[43]?t[10].slice(0,t[43]).reduce(Yt)+t[46]:t[46]]?"edit":"")+" svelte-1vkns8x")&&l(e,"class",i)},d(d){d&&q(e),o=!1,r()}}}function Ot(t){let e,s,n,i=t[44].name+"",o,r,c,d=t[43],a=t[46],h,f=t[5][t[10]&&t[43]?t[10].slice(0,t[43]).reduce(Vt)+t[46]:t[46]],u,g=t[2]?t[2].administration.includes(t[1].userId):!1,v,b,x,L;function C(I,w){if(I[44].channelType=="voice")return nn;if(I[44].channelType=="text")return sn}let m=C(t),k=m&&m(t);const M=()=>t[30](n,d,a),A=()=>t[30](null,d,a);function P(){return t[31](t[43],t[46])}function H(){return t[32](t[43],t[46])}let D=f&&Tt(t),z=g&&Nt(t);function W(){return t[35](t[44])}return{c(){e=_("div"),k&&k.c(),s=B(),n=_("p"),o=j(i),h=B(),D&&D.c(),u=B(),z&&z.c(),l(n,"spellcheck","false"),l(n,"class",r=xe(t[5][t[10]&&t[43]?t[10].slice(0,t[43]).reduce(Zt)+t[46]:t[46]]?"edit":"")+" svelte-1vkns8x"),l(n,"contenteditable",c=t[5][t[10]&&t[43]?t[10].slice(0,t[43]).reduce(Ut)+t[46]:t[46]]?"true":"false"),O(n,"display","inline-block"),l(e,"id",v="channel-"+t[44].channelId),l(e,"class",b="channel "+(t[44].channelId==location.hash.replace("#/","").split("/")[1]?"selected":"")+" svelte-1vkns8x")},m(I,w){S(I,e,w),k&&k.m(e,null),p(e,s),p(e,n),p(n,o),M(),p(e,h),D&&D.m(e,null),p(e,u),z&&z.m(e,null),x||(L=[T(n,"click",P),T(n,"input",H),T(e,"click",W)],x=!0)},p(I,w){t=I,m!==(m=C(t))&&(k&&k.d(1),k=m&&m(t),k&&(k.c(),k.m(e,s))),w[0]&1&&i!==(i=t[44].name+"")&&ae(o,i),w[0]&1056&&r!==(r=xe(t[5][t[10]&&t[43]?t[10].slice(0,t[43]).reduce(Zt)+t[46]:t[46]]?"edit":"")+" svelte-1vkns8x")&&l(n,"class",r),w[0]&1056&&c!==(c=t[5][t[10]&&t[43]?t[10].slice(0,t[43]).reduce(Ut)+t[46]:t[46]]?"true":"false")&&l(n,"contenteditable",c),(d!==t[43]||a!==t[46])&&(A(),d=t[43],a=t[46],M()),w[0]&1056&&(f=t[5][t[10]&&t[43]?t[10].slice(0,t[43]).reduce(Vt)+t[46]:t[46]]),f?D?D.p(t,w):(D=Tt(t),D.c(),D.m(e,u)):D&&(D.d(1),D=null),w[0]&6&&(g=t[2]?t[2].administration.includes(t[1].userId):!1),g?z?z.p(t,w):(z=Nt(t),z.c(),z.m(e,null)):z&&(z.d(1),z=null),w[0]&1&&v!==(v="channel-"+t[44].channelId)&&l(e,"id",v),w[0]&1&&b!==(b="channel "+(t[44].channelId==location.hash.replace("#/","").split("/")[1]?"selected":"")+" svelte-1vkns8x")&&l(e,"class",b)},d(I){I&&q(e),k&&k.d(),A(),D&&D.d(),z&&z.d(),x=!1,he(L)}}}function Rt(t){let e;return{c(){e=_("div"),l(e,"class","space svelte-1vkns8x")},m(s,n){S(s,e,n)},d(s){s&&q(e)}}}function zt(t){var U,X,re;let e,s,n,i,o,r,c=t[41].name+"",d,a,h,f=t[43],u,g=t[2]?t[2].administration.includes(t[1].userId):!1,v,b,x,L,C;function m(){return t[23](t[43])}const k=()=>t[24](r,f),M=()=>t[24](null,f);function A(){return t[25](t[43])}function P(){return t[26](t[43])}let H=g&&Dt(t),D=(X=(U=t[41])==null?void 0:U.channels)!=null?X:[],z=[];for(let J=0;J<D.length;J+=1)z[J]=Ot(Et(t,D,J));let W=((re=t[41].channels)==null?void 0:re.length)&&Rt();const I=()=>t[36](e,f),w=()=>t[36](null,f);return{c(){var J,R,K,Y;e=_("div"),s=_("div"),n=V("svg"),i=V("path"),o=B(),r=_("p"),d=j(c),u=B(),H&&H.c(),v=B(),b=_("div");for(let G=0;G<z.length;G+=1)z[G].c();x=B(),W&&W.c(),l(i,"fill","#000"),l(i,"d","M7.38 21.01c.49.49 1.28.49 1.77 0l8.31-8.31a.996.996 0 0 0 0-1.41L9.15 2.98a1.25 1.25 0 0 0-1.77 0 1.25 1.25 0 0 0 0 1.77L14.62 12l-7.25 7.25c-.48.48-.48 1.28.01 1.76Z"),l(i,"class","svelte-1vkns8x"),O(n,"transform",t[6][t[43]]?"rotate(0deg)":"rotate(90deg)"),l(n,"xmlns","http://www.w3.org/2000/svg"),l(n,"width","10"),l(n,"height","10"),l(n,"fill","none"),l(n,"viewBox","0 0 24 24"),l(n,"class","svelte-1vkns8x"),l(r,"class",a=(t[7][t[43]]?"on":"")+" "+(t[6][t[43]]&&!t[7][t[43]]?"long":"")+" svelte-1vkns8x"),l(r,"contenteditable",h=t[7][t[43]]?"true":"false"),O(r,"display","inline-block"),l(s,"class","svelte-1vkns8x"),l(b,"class","channels svelte-1vkns8x"),l(e,"class","category svelte-1vkns8x"),O(e,"max-height",t[6][t[43]]?"28px":`${3166*((R=(J=t[41])==null?void 0:J.channels)==null?void 0:R.length)/100+28+12*((Y=(K=t[41])==null?void 0:K.channels)!=null&&Y.length?1:0)}px`)},m(J,R){S(J,e,R),p(e,s),p(s,n),p(n,i),p(s,o),p(s,r),p(r,d),k(),p(e,u),H&&H.m(e,null),p(e,v),p(e,b);for(let K=0;K<z.length;K+=1)z[K].m(b,null);p(b,x),W&&W.m(b,null),I(),L||(C=[T(n,"click",m),T(r,"input",A),T(s,"click",P)],L=!0)},p(J,R){var K,Y,G,te,Q,Z,$;if(t=J,R[0]&64&&O(n,"transform",t[6][t[43]]?"rotate(0deg)":"rotate(90deg)"),R[0]&1&&c!==(c=t[41].name+"")&&ae(d,c),R[0]&192&&a!==(a=(t[7][t[43]]?"on":"")+" "+(t[6][t[43]]&&!t[7][t[43]]?"long":"")+" svelte-1vkns8x")&&l(r,"class",a),R[0]&128&&h!==(h=t[7][t[43]]?"true":"false")&&l(r,"contenteditable",h),f!==t[43]&&(M(),f=t[43],k()),R[0]&6&&(g=t[2]?t[2].administration.includes(t[1].userId):!1),g?H?H.p(t,R):(H=Dt(t),H.c(),H.m(e,v)):H&&(H.d(1),H=null),R[0]&160823){D=(Y=(K=t[41])==null?void 0:K.channels)!=null?Y:[];let le;for(le=0;le<D.length;le+=1){const N=Et(t,D,le);z[le]?z[le].p(N,R):(z[le]=Ot(N),z[le].c(),z[le].m(b,x))}for(;le<z.length;le+=1)z[le].d(1);z.length=D.length}(G=t[41].channels)!=null&&G.length?W||(W=Rt(),W.c(),W.m(b,null)):W&&(W.d(1),W=null),R[0]&65&&O(e,"max-height",t[6][t[43]]?"28px":`${3166*((Q=(te=t[41])==null?void 0:te.channels)==null?void 0:Q.length)/100+28+12*(($=(Z=t[41])==null?void 0:Z.channels)!=null&&$.length?1:0)}px`),f!==t[43]&&(w(),f=t[43],I())},d(J){J&&q(e),M(),H&&H.d(),Re(z,J),W&&W.d(),w(),L=!1,he(C)}}}function Pt(t){let e,s,n;return{c(){e=_("div"),e.innerHTML=`\uCE74\uD14C\uACE0\uB9AC \uCD94\uAC00
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 25" class="svelte-1vkns8x"><path fill="#000" d="M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1Z" class="svelte-1vkns8x"></path></svg>`,l(e,"class","addCategory svelte-1vkns8x")},m(i,o){S(i,e,o),s||(n=T(e,"click",t[37]),s=!0)},p:oe,d(i){i&&q(e),s=!1,n()}}}function Ht(t){let e,s;function n(r,c){var d;return c[0]&1&&(s=null),s==null&&(s=location.hash.replace("#/","").split("/")[0]!="DM"&&!((d=r[0])!=null&&d.userId)),s?tn:en}let i=n(t,[-1,-1]),o=i(t);return{c(){e=_("div"),o.c(),l(e,"class","channelListContainer svelte-1vkns8x")},m(r,c){S(r,e,c),o.m(e,null)},p(r,c){i===(i=n(r,c))&&o?o.p(r,c):(o.d(1),o=i(r),o&&(o.c(),o.m(e,null)))},d(r){r&&q(e),o.d()}}}function ln(t){let e=t[9],s,n,i,o=Ht(t);return{c(){o.c(),s=Ce()},m(r,c){o.m(r,c),S(r,s,c),n||(i=T($s,"hashchange",t[18]),n=!0)},p(r,c){c[0]&512&&ve(e,e=r[9])?(o.d(1),o=Ht(r),o.c(),o.m(s.parentNode,s)):o.p(r,c)},i:oe,o:oe,d(r){r&&q(s),o.d(r),n=!1,i()}}}let ot="m9 16.2-3.5-3.5a.984.984 0 0 0-1.4 0 .984.984 0 0 0 0 1.4l4.19 4.19c.39.39 1.02.39 1.41 0L20.3 7.7a.984.984 0 0 0 0-1.4.984.984 0 0 0-1.4 0L9 16.2Z",rt="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2Zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2Zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2Z";const Vt=(t,e)=>t+e,Zt=(t,e)=>t+e,Ut=(t,e)=>t+e,Ft=(t,e)=>t+e,Yt=(t,e)=>t+e;function on(t,e,s){let{chatChannelData:n}=e,{meInfo:i}=e,{currentServer:o}=e,{socket:r}=e,c=[],d=[],a=[],h=[],f=[],u=[],g=location.hash.replace("#/","").split("/")[0],v,b,x=!1,L=!1;const C=y=>{if(x)return x=!1;if(L)return s(12,L=!1);location.hash=`#/${location.hash.replace("#/","").split("/")[0]}/${y}`},m=(y,F,ie)=>{x=!0,d[y].scrollTo(-d[y].scrollWidth,0),s(5,a[y]=!a[y],a),a[y]||r.emit("editChannel",{serverId:o.serverId,categoryId:F,channelId:ie,name:d[y].textContent,token:window.localStorage.getItem("token")})},k=(y,F)=>{u[y].scrollTo(-u[y].scrollWidth,0),s(7,f[y]=!f[y],f),a[y]||r.emit("editCategory",{serverId:o.serverId,categoryId:F,name:u[y].textContent,token:window.localStorage.getItem("token")})},M=(y,F)=>{f.splice(y,1),h.splice(y,1),s(6,h=[...h]),s(7,f=[...f]),r.emit("deleteCategory",{serverId:o.serverId,categoryId:F,token:window.localStorage.getItem("token")})},A=(y,F,ie)=>{x=!0,a.splice(y,1),r.emit("deleteChannel",{serverId:o.serverId,categoryId:F,channelId:ie,token:window.localStorage.getItem("token")})},P=()=>{location.hash.replace("#/","").split("/")[0]!="DM"?W():s(11,b=location.hash.replace("#/","").split("/")[1])},H=()=>{r.emit("createCategory",{serverId:o.serverId,token:window.localStorage.getItem("token")})},D=y=>{r.emit("createChannel",{serverId:o.serverId,categoryId:y,channelType:"text",token:window.localStorage.getItem("token")})},z=y=>{location.hash=`#/DM/${y}`},W=async()=>{const y=g!=location.hash.replace("#/","").split("/")[0];s(10,v=n.map(F=>{var ie;return(ie=F.channels)==null?void 0:ie.length})),y&&(s(9,g=location.hash.replace("#/","").split("/")[0]),s(6,h=[]))};W();const I=y=>s(6,h[y]=f[y]?!h[y]:h[y],h);function w(y,F){ye[y?"unshift":"push"](()=>{u[F]=y,s(8,u)})}const U=y=>s(8,u[y].textContent=u[y].textContent.replace(`
`,""),u),X=y=>s(6,h[y]=f[y]?h[y]:!h[y],h),re=(y,F)=>k(y,F.categoryId),J=(y,F)=>M(y,F.categoryId),R=y=>D(y.categoryId);function K(y,F,ie){ye[y?"unshift":"push"](()=>{d[v&&F?v.slice(0,F).reduce((ce,ue)=>ce+ue)+ie:ie]=y,s(4,d)})}const Y=(y,F)=>s(12,L=a[v&&y?v.slice(0,y).reduce((ie,ce)=>ie+ce)+F:F]),G=(y,F)=>s(4,d[v&&y?v.slice(0,y).reduce((ie,ce)=>ie+ce)+F:F].textContent=d[v&&y?v.slice(0,y).reduce((ie,ce)=>ie+ce)+F:F].textContent.replace(`
`,""),d),te=(y,F,ie,ce)=>A(v&&y?v.slice(0,y).reduce((ue,ge)=>ue+ge)+F:F,ie.categoryId,ce.channelId),Q=(y,F,ie,ce)=>m(v&&y?v.slice(0,y).reduce((ue,ge)=>ue+ge)+F:F,ie.categoryId,ce.channelId),Z=y=>C(y.channelId);function $(y,F){ye[y?"unshift":"push"](()=>{c[F]=y,s(3,c)})}const le=()=>H(),N=y=>z(y.userId);return t.$$set=y=>{"chatChannelData"in y&&s(0,n=y.chatChannelData),"meInfo"in y&&s(1,i=y.meInfo),"currentServer"in y&&s(2,o=y.currentServer),"socket"in y&&s(22,r=y.socket)},t.$$.update=()=>{t.$$.dirty[0]&1&&P()},[n,i,o,c,d,a,h,f,u,g,v,b,L,C,m,k,M,A,P,H,D,z,r,I,w,U,X,re,J,R,K,Y,G,te,Q,Z,$,le,N]}class rn extends Ae{constructor(e){super(),Be(this,e,on,ln,ve,{chatChannelData:0,meInfo:1,currentServer:2,socket:22},null,[-1,-1])}}function an(t){let e;function s(o,r){var c;if(((c=o[0])==null?void 0:c.channelType)=="voice")return dn;if(o[0].channelType=="text")return cn}let n=s(t),i=n&&n(t);return{c(){i&&i.c(),e=Ce()},m(o,r){i&&i.m(o,r),S(o,e,r)},p(o,r){n!==(n=s(o))&&(i&&i.d(1),i=n&&n(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i&&i.d(o),o&&q(e)}}}function cn(t){let e,s;return{c(){e=V("svg"),s=V("path"),l(s,"d","M18 0H2C0.9 0 0 0.9 0 2V17.5858C0 18.4767 1.07714 18.9229 1.70711 18.2929L3.70711 16.2929C3.89464 16.1054 4.149 16 4.41421 16H18C19.1 16 20 15.1 20 14V2C20 0.9 19.1 0 18 0Z"),l(s,"fill","white"),l(s,"class","svelte-6tmn6l"),l(e,"width","14"),l(e,"height","19"),l(e,"viewBox","0 0 20 19"),l(e,"fill","none"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"class","svelte-6tmn6l")},m(n,i){S(n,e,i),p(e,s)},d(n){n&&q(e)}}}function dn(t){let e,s;return{c(){e=V("svg"),s=V("path"),l(s,"fill-rule","evenodd"),l(s,"clip-rule","evenodd"),l(s,"d","M9.87684 0.0841614C9.48316 -0.0869507 9.03053 0.0074943 8.72947 0.325274L4.21053 5.55419H1.05263C0.473684 5.55419 0 6.05531 0 6.66531V13.332C0 13.9431 0.473684 14.4431 1.05263 14.4431H4.21053L8.72947 19.6742C9.03053 19.992 9.48316 20.0876 9.87684 19.9153C10.2705 19.7431 10.5263 19.3376 10.5263 18.8876V1.10972C10.5263 0.661942 10.2705 0.254162 9.87684 0.0841614ZM12.6316 2.22074V4.44298C15.5337 4.44298 17.8947 6.93632 17.8947 9.99862C17.8947 13.062 15.5337 15.5542 12.6316 15.5542V17.7764C16.6947 17.7764 20 14.2886 20 9.99862C20 5.71076 16.6947 2.22074 12.6316 2.22074ZM12.6316 6.66521C14.3726 6.66521 15.7895 8.16194 15.7895 9.99862C15.7895 11.8375 14.3726 13.332 12.6316 13.332V11.1097C13.2116 11.1097 13.6842 10.6108 13.6842 9.99862C13.6842 9.38639 13.2116 8.8875 12.6316 8.8875V6.66521Z"),l(s,"fill","white"),l(s,"class","svelte-6tmn6l"),l(e,"width","20"),l(e,"height","20"),l(e,"viewBox","0 0 20 20"),l(e,"fill","none"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"class","svelte-6tmn6l")},m(n,i){S(n,e,i),p(e,s)},d(n){n&&q(e)}}}function Wt(t){var c,d,a;let e=location.hash.replace("#/","").split("/")[0]!="DM",s,n,i=(((c=t[0])==null?void 0:c.length)!=0&&(a=(d=t[0])==null?void 0:d.name)!=null?a:"")+"",o,r=e&&an(t);return{c(){r&&r.c(),s=B(),n=_("p"),o=j(i),O(n,"display","inline-block"),l(n,"class","svelte-6tmn6l")},m(h,f){r&&r.m(h,f),S(h,s,f),S(h,n,f),p(n,o)},p(h,f){var u,g,v;e&&r.p(h,f),f&1&&i!==(i=(((u=h[0])==null?void 0:u.length)!=0&&(v=(g=h[0])==null?void 0:g.name)!=null?v:"")+"")&&ae(o,i)},d(h){r&&r.d(h),h&&q(s),h&&q(n)}}}function hn(t){let e,s,n=t[0],i,o,r,c,d=Wt(t);return{c(){e=_("div"),s=_("div"),d.c(),i=B(),o=_("button"),o.innerHTML='<svg width="30" height="20" fill="none" viewBox="0 0 30 20" xmlns="http://www.w3.org/2000/svg" class="svelte-6tmn6l"><path fill="#FFF" d="M0 18.333C0 19.253.746 20 1.667 20h26.666a1.667 1.667 0 1 0 0-3.333H1.667c-.92 0-1.667.746-1.667 1.666ZM0 10c0 .92.746 1.667 1.667 1.667h26.666a1.667 1.667 0 1 0 0-3.334H1.667C.747 8.333 0 9.08 0 10ZM1.667 0a1.667 1.667 0 0 0 0 3.333h26.666a1.667 1.667 0 1 0 0-3.333H1.667Z" class="svelte-6tmn6l"></path></svg>',l(s,"class","channel svelte-6tmn6l"),l(o,"class","sideMenuButton svelte-6tmn6l"),l(e,"class","channelNameContainer svelte-6tmn6l")},m(a,h){S(a,e,h),p(e,s),d.m(s,null),p(e,i),p(e,o),r||(c=T(o,"click",t[1]),r=!0)},p(a,[h]){h&1&&ve(n,n=a[0])?(d.d(1),d=Wt(a),d.c(),d.m(s,null)):d.p(a,h)},i:oe,o:oe,d(a){a&&q(e),d.d(a),r=!1,c()}}}function pn(t,e,s){let{chatChannelData:n}=e;function i(o){Ws.call(this,t,o)}return t.$$set=o=>{"chatChannelData"in o&&s(0,n=o.chatChannelData)},[n,i]}class fn extends Ae{constructor(e){super(),Be(this,e,pn,hn,ve,{chatChannelData:0})}}const{window:un}=We;function Kt(t,e,s){const n=t.slice();return n[8]=e[s],n}function vn(t){let e;return{c(){e=_("p"),e.textContent="DM",l(e,"class","dm svelte-q8g8x")},m(s,n){S(s,e,n)},p:oe,d(s){s&&q(e)}}}function gn(t){let e,s,n,i,o=(t[1]?t[1].name:"")+"",r,c,d=t[4]&&Xt(t);return{c(){var a;e=_("div"),s=B(),d&&d.c(),n=B(),i=_("p"),r=j(o),l(e,"class","userProfileInfo svelte-q8g8x"),O(e,"background-image","url("+(t[7]?t[7]:(a=t[1])==null?void 0:a.icon)+")"),l(i,"class",c=xe(t[4]?"edited":"")+" svelte-q8g8x"),l(i,"contenteditable",t[4])},m(a,h){S(a,e,h),S(a,s,h),d&&d.m(a,h),S(a,n,h),S(a,i,h),p(i,r),t[17](i)},p(a,h){var f;h&130&&O(e,"background-image","url("+(a[7]?a[7]:(f=a[1])==null?void 0:f.icon)+")"),a[4]?d?d.p(a,h):(d=Xt(a),d.c(),d.m(n.parentNode,n)):d&&(d.d(1),d=null),h&2&&o!==(o=(a[1]?a[1].name:"")+"")&&ae(r,o),h&16&&c!==(c=xe(a[4]?"edited":"")+" svelte-q8g8x")&&l(i,"class",c),h&16&&l(i,"contenteditable",a[4])},d(a){a&&q(e),a&&q(s),d&&d.d(a),a&&q(n),a&&q(i),t[17](null)}}}function Xt(t){let e,s,n,i,o;return{c(){e=_("input"),s=B(),n=_("label"),n.innerHTML='<div class="editImage svelte-q8g8x"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 19 19" class="svelte-q8g8x"><path fill="#000" d="M18.02 3H16V.98c0-.54-.44-.98-.98-.98h-.03c-.55 0-.99.44-.99.98V3h-2.01c-.54 0-.98.44-.99.98v.03c0 .55.44.99.99.99H14v2.01c0 .54.44.99.99.98h.03c.54 0 .98-.44.98-.98V5h2.02c.54 0 .98-.44.98-.98v-.04c0-.54-.44-.98-.98-.98ZM13 7.01V6h-1.01c-.53 0-1.03-.21-1.41-.58-.37-.38-.58-.88-.58-1.44 0-.36.1-.69.27-.98H2C.9 3 0 3.9 0 5v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8.72c-.3.17-.64.28-1.02.28A2 2 0 0 1 13 7.01ZM12.96 17H3a.5.5 0 0 1-.4-.8l1.98-2.63c.21-.28.62-.26.82.02L7 16l2.61-3.48c.2-.26.59-.27.79-.01l2.95 3.68c.26.33.03.81-.39.81Z" class="svelte-q8g8x"></path></svg></div>',l(e,"type","file"),l(e,"accept","image/*"),l(e,"id","imgUpload"),l(e,"name","imgUpload"),l(e,"class","svelte-q8g8x"),l(n,"for","imgUpload"),l(n,"class","svelte-q8g8x")},m(r,c){S(r,e,c),S(r,s,c),S(r,n,c),i||(o=[T(e,"change",t[16]),T(e,"change",yn)],i=!0)},p:oe,d(r){r&&q(e),r&&q(s),r&&q(n),i=!1,he(o)}}}function Jt(t){let e;function s(o,r){return location.hash.replace("#/","").split("/")[0]!="DM"?gn:vn}let i=s()(t);return{c(){i.c(),e=Ce()},m(o,r){i.m(o,r),S(o,e,r)},p(o,r){i.p(o,r)},d(o){i.d(o),o&&q(e)}}}function mn(t){let e,s,n,i,o;return{c(){e=_("button"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" class="svelte-q8g8x"><path fill="#fff" d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10Zm3.17-7.83a.996.996 0 0 1 1.41 0L12 12.59l1.42-1.42a.996.996 0 1 1 1.41 1.41L13.41 14l1.42 1.42a.996.996 0 1 1-1.41 1.41L12 15.41l-1.42 1.42a.996.996 0 1 1-1.41-1.41L10.59 14l-1.42-1.42a.996.996 0 0 1 0-1.41ZM15.5 4l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1h-2.5Z" class="svelte-q8g8x"></path></svg>',s=B(),n=_("button"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 18 13" class="svelte-q8g8x"><path fill="#fff" d="M6 10.17 2.53 6.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L17.29 1.71A.996.996 0 1 0 15.88.3L6 10.17Z" class="svelte-q8g8x"></path></svg>',l(e,"class","del svelte-q8g8x"),l(n,"class","serverEditButton svelte-q8g8x")},m(r,c){S(r,e,c),S(r,s,c),S(r,n,c),i||(o=[T(e,"click",t[19]),T(n,"click",t[20])],i=!0)},p:oe,d(r){r&&q(e),r&&q(s),r&&q(n),i=!1,he(o)}}}function bn(t){let e,s,n,i,o;return{c(){e=_("button"),s=V("svg"),n=V("path"),l(n,"fill","#FFF"),l(n,"d","M2.477.707a1 1 0 0 0-1.414 0l-.356.356a1 1 0 0 0 0 1.414l8.586 8.586a1 1 0 0 0 1.414 0l8.586-8.586a1 1 0 0 0 0-1.414l-.356-.356a1 1 0 0 0-1.414 0l-6.816 6.816a1 1 0 0 1-1.414 0L2.477.707Z"),l(n,"class","svelte-q8g8x"),l(s,"width","20"),l(s,"height","12"),l(s,"fill","none"),l(s,"viewBox","0 0 20 12"),l(s,"xmlns","http://www.w3.org/2000/svg"),O(s,"transform",t[5]?"rotate(0deg)":"rotate(180deg)"),l(s,"class","svelte-q8g8x"),l(e,"class","serverDropdownButton svelte-q8g8x")},m(r,c){S(r,e,c),p(e,s),p(s,n),i||(o=T(e,"click",t[18]),i=!0)},p(r,c){c&32&&O(s,"transform",r[5]?"rotate(0deg)":"rotate(180deg)")},d(r){r&&q(e),i=!1,o()}}}function xn(t){let e,s,n;return{c(){e=_("div"),e.innerHTML=`\uC11C\uBC84
                        <svg width="20" height="20" viewBox="0 0 24 30" class="svelte-q8g8x"><path fill="#fff" d="M18 2H7C5.897 2 5 2.898 5 4V11H12.59L10.293 8.708L11.706 7.292L16.414 11.991L11.708 16.706L10.292 15.294L12.582 13H5V20C5 21.103 5.897 22 7 22H18C19.103 22 20 21.103 20 20V4C20 2.898 19.103 2 18 2Z" class="svelte-q8g8x"></path></svg>`,l(e,"class","setserver svelte-q8g8x")},m(i,o){S(i,e,o),s||(n=T(e,"click",t[24]),s=!0)},p:oe,d(i){i&&q(e),s=!1,n()}}}function kn(t){let e,s,n;return{c(){e=_("div"),e.innerHTML=`\uC11C\uBC84
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 33" class="svelte-q8g8x"><path fill="#fff" d="M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65A.488.488 0 0 0 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65ZM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5Z" class="svelte-q8g8x"></path></svg>`,l(e,"class","setserver svelte-q8g8x")},m(i,o){S(i,e,o),s||(n=T(e,"click",t[23]),s=!0)},p:oe,d(i){i&&q(e),s=!1,n()}}}function jt(t){let e,s,n,i,o,r,c,d,a,h,f,u,g;function v(L,C){var m,k;if(C&6&&(a=null),a==null&&(a=!!((k=(m=L[1])==null?void 0:m.administration)!=null&&k.includes(L[2].userId))),a)return kn;if(h==null&&(h=location.hash.replace("#/","").split("/")[0]!="DM"),h)return xn}let b=v(t,-1),x=b&&b(t);return{c(){e=_("div"),s=j("DM"),n=B(),i=_("div"),o=j(`\uC11C\uBC84\r
                    `),r=V("svg"),c=V("path"),d=B(),x&&x.c(),f=Ce(),l(e,"class","dm "+(location.hash.replace("#/","").split("/")[0]=="DM"?"active":"")+" svelte-q8g8x"),l(c,"fill","#fff"),l(c,"d","M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1Z"),l(c,"class","svelte-q8g8x"),l(r,"xmlns","http://www.w3.org/2000/svg"),l(r,"width","25"),l(r,"height","25"),l(r,"fill","none"),l(r,"viewBox","0 0 24 29"),l(r,"class","svelte-q8g8x"),l(i,"class","addserver svelte-q8g8x"),O(i,"right",location.hash.replace("#/","").split("/")[0]!="DM"?"71px":"0px")},m(L,C){S(L,e,C),p(e,s),S(L,n,C),S(L,i,C),p(i,o),p(i,r),p(r,c),S(L,d,C),x&&x.m(L,C),S(L,f,C),u||(g=[T(e,"click",t[21]),T(i,"click",t[22])],u=!0)},p(L,C){b===(b=v(L,C))&&x?x.p(L,C):(x&&x.d(1),x=b&&b(L),x&&(x.c(),x.m(f.parentNode,f)))},d(L){L&&q(e),L&&q(n),L&&q(i),L&&q(d),x&&x.d(L),L&&q(f),u=!1,he(g)}}}function Gt(t){let e,s,n,i,o=t[8].name+"",r,c,d,a,h,f;function u(){return t[25](t[8])}return{c(){e=_("div"),s=_("div"),n=B(),i=_("p"),r=j(o),c=B(),O(s,"background-image","url("+t[8].icon+")"),l(s,"class","svelte-q8g8x"),l(i,"class","svelte-q8g8x"),l(e,"id",d="server-"+t[8].serverId),l(e,"class",a="server "+(t[1]&&t[8].serverId==t[1].serverId?"active":"")+" svelte-q8g8x")},m(g,v){S(g,e,v),p(e,s),p(e,n),p(e,i),p(i,r),p(e,c),h||(f=T(e,"click",u),h=!0)},p(g,v){t=g,v&1&&O(s,"background-image","url("+t[8].icon+")"),v&1&&o!==(o=t[8].name+"")&&ae(r,o),v&1&&d!==(d="server-"+t[8].serverId)&&l(e,"id",d),v&3&&a!==(a="server "+(t[1]&&t[8].serverId==t[1].serverId?"active":"")+" svelte-q8g8x")&&l(e,"class",a)},d(g){g&&q(e),h=!1,f()}}}function _n(t){let e,s,n=t[1],i,o,r,c,d=t[1],a,h,f,u,g,v=Jt(t);function b(M,A){return M[4]?mn:bn}let x=b(t),L=x(t),C=jt(t),m=t[0],k=[];for(let M=0;M<m.length;M+=1)k[M]=Gt(Kt(t,m,M));return{c(){e=_("div"),s=_("div"),v.c(),i=B(),L.c(),o=B(),r=_("div"),c=_("div"),C.c(),a=B(),h=_("div"),f=B();for(let M=0;M<k.length;M+=1)k[M].c();l(s,"class","server svelte-q8g8x"),l(c,"class","pannel svelte-q8g8x"),l(h,"class","line svelte-q8g8x"),O(r,"height",t[5]?"210px":"0px"),O(r,"border-top",(t[5]?"1px":"0px")+" solid #000000"),l(r,"class","svelte-q8g8x"),l(e,"class","serverListContainer svelte-q8g8x")},m(M,A){S(M,e,A),p(e,s),v.m(s,null),p(e,i),L.m(e,null),p(e,o),p(e,r),p(r,c),C.m(c,null),p(r,a),p(r,h),p(r,f);for(let P=0;P<k.length;P+=1)k[P].m(r,null);u||(g=T(un,"hashchange",t[14]),u=!0)},p(M,[A]){if(A&2&&ve(n,n=M[1])?(v.d(1),v=Jt(M),v.c(),v.m(s,null)):v.p(M,A),x===(x=b(M))&&L?L.p(M,A):(L.d(1),L=x(M),L&&(L.c(),L.m(e,o))),A&2&&ve(d,d=M[1])?(C.d(1),C=jt(M),C.c(),C.m(c,null)):C.p(M,A),A&515){m=M[0];let P;for(P=0;P<m.length;P+=1){const H=Kt(M,m,P);k[P]?k[P].p(H,A):(k[P]=Gt(H),k[P].c(),k[P].m(r,null))}for(;P<k.length;P+=1)k[P].d(1);k.length=m.length}A&32&&O(r,"height",M[5]?"210px":"0px"),A&32&&O(r,"border-top",(M[5]?"1px":"0px")+" solid #000000")},i:oe,o:oe,d(M){M&&q(e),v.d(M),L.d(),C.d(M),Re(k,M),u=!1,g()}}}function wn(t,e){var s=new FileReader;s.onload=function(n){e(n.target.result)},s.readAsDataURL(t)}const yn=()=>{};function Cn(t,e,s){let{socket:n}=e,{serverData:i}=e,{currentServer:o}=e,{meInfo:r}=e,c=!1,d=!1,a,h,f,u=location.hash.replace("#/","").split("/")[0];const g=w=>{var U,X,re,J;s(5,d=!1),location.hash=`#/${w}/${(J=(re=(X=(U=i.find(R=>R.serverId==w))==null?void 0:U.categories[0])==null?void 0:X.channels[0])==null?void 0:re.channelId)!=null?J:"main"}`},v=()=>{n.emit("createServer",{token:window.localStorage.getItem("token")}),s(5,d=!1)},b=()=>{a.scrollTo(-a.scrollWidth,0),c&&n.emit("editServer",{serverId:o.serverId,name:a.textContent,icon:f,token:window.localStorage.getItem("token")}),s(5,d=!d),s(4,c=!c)},x=()=>{n.emit("leaveServer",{serverId:o.serverId,token:window.localStorage.getItem("token")}),s(5,d=!1)},L=()=>{n.emit("deleteServer",{serverId:o.serverId,token:window.localStorage.getItem("token")}),s(4,c=!1)},C=()=>{const w=u!=location.hash.replace("#/","").split("/")[0];s(8,u=location.hash.replace("#/","").split("/")[0]),w&&(s(3,h=void 0),s(7,f=void 0))};function m(){h=this.files,s(3,h)}function k(w){ye[w?"unshift":"push"](()=>{a=w,s(6,a)})}const M=()=>s(5,d=!d),A=()=>L(),P=()=>b(),H=()=>g("DM"),D=()=>v(),z=()=>b(),W=()=>x(),I=w=>g(w.serverId);return t.$$set=w=>{"socket"in w&&s(15,n=w.socket),"serverData"in w&&s(0,i=w.serverData),"currentServer"in w&&s(1,o=w.currentServer),"meInfo"in w&&s(2,r=w.meInfo)},t.$$.update=()=>{t.$$.dirty&8&&h&&wn(h[0],w=>s(7,f=w))},[i,o,r,h,c,d,a,f,u,g,v,b,x,L,C,n,m,k,M,A,P,H,D,z,W,I]}class In extends Ae{constructor(e){super(),Be(this,e,Cn,_n,ve,{socket:15,serverData:0,currentServer:1,meInfo:2})}}function Qt(t){let e,s,n,i,o;return{c(){e=_("input"),s=B(),n=_("label"),n.innerHTML='<div class="editImage svelte-1xdhp2n"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 19 19" class="svelte-1xdhp2n"><path fill="#000" d="M18.02 3H16V.98c0-.54-.44-.98-.98-.98h-.03c-.55 0-.99.44-.99.98V3h-2.01c-.54 0-.98.44-.99.98v.03c0 .55.44.99.99.99H14v2.01c0 .54.44.99.99.98h.03c.54 0 .98-.44.98-.98V5h2.02c.54 0 .98-.44.98-.98v-.04c0-.54-.44-.98-.98-.98ZM13 7.01V6h-1.01c-.53 0-1.03-.21-1.41-.58-.37-.38-.58-.88-.58-1.44 0-.36.1-.69.27-.98H2C.9 3 0 3.9 0 5v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8.72c-.3.17-.64.28-1.02.28A2 2 0 0 1 13 7.01ZM12.96 17H3a.5.5 0 0 1-.4-.8l1.98-2.63c.21-.28.62-.26.82.02L7 16l2.61-3.48c.2-.26.59-.27.79-.01l2.95 3.68c.26.33.03.81-.39.81Z" class="svelte-1xdhp2n"></path></svg></div>',l(e,"type","file"),l(e,"accept","image/*"),l(e,"id","imgUpload"),l(e,"name","imgUpload"),l(e,"class","svelte-1xdhp2n"),l(n,"for","imgUpload"),l(n,"class","svelte-1xdhp2n")},m(r,c){S(r,e,c),S(r,s,c),S(r,n,c),i||(o=[T(e,"change",t[9]),T(e,"change",En)],i=!0)},p:oe,d(r){r&&q(e),r&&q(s),r&&q(n),i=!1,he(o)}}}function $t(t){let e,s,n,i;return{c(){e=V("svg"),s=V("path"),l(s,"fill","#000"),l(s,"d","M2.895.545c0-.3.244-.545.545-.545h6.402C10.48 0 11 .49 11 1.09v7.058a.579.579 0 1 1-1.158 0V2.091a1 1 0 0 0-1-1H3.44a.545.545 0 0 1-.545-.546ZM1.158 2.182h6.368c.637 0 1.158.49 1.158 1.09v7.637c0 .6-.52 1.091-1.158 1.091H1.158C.52 12 0 11.51 0 10.91V3.272c0-.6.521-1.091 1.158-1.091Zm0 7.727a1 1 0 0 0 1 1h4.368a1 1 0 0 0 1-1V4.273a1 1 0 0 0-1-1H2.158a1 1 0 0 0-1 1v5.636Z"),l(s,"class","svelte-1xdhp2n"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"width","11"),l(e,"height","12"),l(e,"fill","none"),l(e,"viewBox","0 0 11 12"),l(e,"class","svelte-1xdhp2n")},m(o,r){S(o,e,r),p(e,s),n||(i=T(e,"click",t[12]),n=!0)},p:oe,d(o){o&&q(e),n=!1,i()}}}function Ln(t){let e,s;return{c(){e=V("svg"),s=V("path"),l(s,"fill","#000"),l(s,"d","M0 12.667V16h3.333l9.83-9.83L9.83 2.837 0 12.667Zm15.74-9.074a.885.885 0 0 0 0-1.253L13.66.26a.885.885 0 0 0-1.253 0l-1.626 1.626 3.333 3.333 1.626-1.626Z"),l(s,"class","svelte-1xdhp2n"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"width","16"),l(e,"height","16"),l(e,"fill","none"),l(e,"viewBox","0 0 16 16"),l(e,"class","svelte-1xdhp2n")},m(n,i){S(n,e,i),p(e,s)},d(n){n&&q(e)}}}function qn(t){let e,s;return{c(){e=V("svg"),s=V("path"),l(s,"fill","#000"),l(s,"d","M6 10.17 2.53 6.7a.996.996 0 1 0-1.41 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L17.29 1.71A.996.996 0 1 0 15.88.3L6 10.17Z"),l(s,"class","svelte-1xdhp2n"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"width","18"),l(e,"height","13"),l(e,"fill","none"),l(e,"viewBox","0 0 18 13"),l(e,"class","svelte-1xdhp2n")},m(n,i){S(n,e,i),p(e,s)},d(n){n&&q(e)}}}function Mn(t){var se,Je,kt,_t;let e,s,n,i,o,r,c,d,a,h=t[0].name+"",f,u,g,v,b,x,L,C,m=t[0].email+"",k,M,A,P,H,D,z,W,I,w=t[0].description+"",U,X,re,J,R,K,Y,G,te,Q,Z=((Je=(se=t[0])==null?void 0:se.name)!=null?Je:"")+"",$,le,N,y,F,ie,ce,ue,ge=((_t=(kt=t[0])==null?void 0:kt.email)!=null?_t:"")+"",de,Ie,Le,Ve,Ke,me=t[2]&&Qt(t),be=!t[2]&&$t(t);function Xe(ne,fe){return ne[2]?qn:Ln}let Pe=Xe(t),E=Pe(t);return{c(){e=_("div"),s=_("div"),n=_("div"),i=B(),me&&me.c(),o=B(),r=_("div"),c=_("div"),d=B(),a=_("p"),f=j(h),v=B(),be&&be.c(),b=B(),x=_("div"),L=B(),C=_("p"),k=j(m),M=B(),A=_("button"),E.c(),P=B(),H=_("p"),H.textContent="\uC18C\uAC1C",D=B(),z=_("div"),W=B(),I=_("div"),U=j(w),J=B(),R=_("div"),K=B(),Y=_("div"),G=_("div"),te=B(),Q=_("p"),$=j(Z),le=B(),N=V("svg"),y=V("path"),F=B(),ie=_("div"),ce=B(),ue=_("p"),de=j(ge),Ie=B(),Le=_("button"),Le.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 24" class="svelte-1xdhp2n"><path fill="#000" d="M22.1 13.882c-.571-.437-.849-1.148-.848-1.868V12c0-.725.273-1.45.851-1.887l1.668-1.263a.602.602 0 0 0 .154-.762l-2.467-4.15c-.154-.276-.475-.363-.758-.276l-2.043.799c-.64.25-1.355.139-1.95-.207a9.627 9.627 0 0 0-.117-.068c-.623-.351-1.107-.935-1.21-1.644l-.296-2.03A.617.617 0 0 0 14.467 0H9.533a.604.604 0 0 0-.604.512l-.296 2.03c-.103.709-.586 1.294-1.21 1.646l-.12.07c-.592.345-1.306.453-1.944.204l-2.046-.8a.621.621 0 0 0-.758.276L.1 8.088c-.154.262-.103.587.154.762l1.667 1.261c.579.439.826 1.163.826 1.889 0 .725-.272 1.45-.85 1.887L.229 15.15a.602.602 0 0 0-.154.762l2.467 4.15c.154.275.475.363.758.275l2.043-.798c.64-.25 1.355-.139 1.95.207.038.023.077.046.117.068.624.351 1.107.935 1.21 1.644l.296 2.03c.064.3.308.512.617.512h4.934a.594.594 0 0 0 .604-.512l.296-2.03c.103-.709.587-1.292 1.211-1.642l.108-.061c.6-.348 1.324-.464 1.97-.211l2.031.793c.283.1.604 0 .758-.274l2.468-4.15c.154-.276.09-.588-.155-.763L22.1 13.882ZM12 16.5c-2.544 0-4.626-2.025-4.626-4.5S9.456 7.5 12 7.5c2.544 0 4.626 2.025 4.626 4.5S14.544 16.5 12 16.5Z" class="svelte-1xdhp2n"></path></svg>',l(n,"class","userProfileInfo svelte-1xdhp2n"),O(n,"background-image","url("+(t[4].profile?t[4].profile:t[0].profile)+")"),O(c,"background-image","url("+t[0].profile+")"),l(c,"class","svelte-1xdhp2n"),l(a,"contenteditable",u=t[2]?"true":"false"),l(a,"class",g="namee "+(t[2]?"edit":"")+" svelte-1xdhp2n"),l(x,"class","line-break svelte-1xdhp2n"),l(C,"class","svelte-1xdhp2n"),l(r,"class","me svelte-1xdhp2n"),l(A,"class","svelte-1xdhp2n"),l(H,"class","svelte-1xdhp2n"),l(z,"class","on svelte-1xdhp2n"),l(I,"contenteditable",X=t[2]?"true":"false"),l(I,"class",re=xe(t[2]?"on":"")+" svelte-1xdhp2n"),l(s,"class","userProfileEdit svelte-1xdhp2n"),O(s,"display",t[3]?"flex":"none"),l(R,"class","userProfileInfo svelte-1xdhp2n"),O(R,"background-image","url("+(Object.keys(t[0]).length!=0?t[0].profile:"")+")"),O(G,"background-image","url("+(Object.keys(t[0]).length!=0?t[0].profile:"")+")"),l(G,"class","svelte-1xdhp2n"),l(Q,"class","name svelte-1xdhp2n"),l(y,"fill","#000"),l(y,"d","M2.895.545c0-.3.244-.545.545-.545h6.402C10.48 0 11 .49 11 1.09v7.058a.579.579 0 1 1-1.158 0V2.091a1 1 0 0 0-1-1H3.44a.545.545 0 0 1-.545-.546ZM1.158 2.182h6.368c.637 0 1.158.49 1.158 1.09v7.637c0 .6-.52 1.091-1.158 1.091H1.158C.52 12 0 11.51 0 10.91V3.272c0-.6.521-1.091 1.158-1.091Zm0 7.727a1 1 0 0 0 1 1h4.368a1 1 0 0 0 1-1V4.273a1 1 0 0 0-1-1H2.158a1 1 0 0 0-1 1v5.636Z"),l(y,"class","svelte-1xdhp2n"),l(N,"xmlns","http://www.w3.org/2000/svg"),l(N,"width","11"),l(N,"height","12"),l(N,"fill","none"),l(N,"viewBox","0 0 11 12"),l(N,"class","svelte-1xdhp2n"),l(ie,"class","line-break svelte-1xdhp2n"),l(ue,"class","svelte-1xdhp2n"),l(Y,"class","me svelte-1xdhp2n"),l(Le,"class","svelte-1xdhp2n"),l(e,"class","userInfoContainer svelte-1xdhp2n")},m(ne,fe){S(ne,e,fe),p(e,s),p(s,n),p(s,i),me&&me.m(s,null),p(s,o),p(s,r),p(r,c),p(r,d),p(r,a),p(a,f),t[11](a),p(r,v),be&&be.m(r,null),p(r,b),p(r,x),p(r,L),p(r,C),p(C,k),p(s,M),p(s,A),E.m(A,null),p(s,P),p(s,H),p(s,D),p(s,z),p(s,W),p(s,I),p(I,U),t[13](I),p(e,J),p(e,R),p(e,K),p(e,Y),p(Y,G),p(Y,te),p(Y,Q),p(Q,$),p(Y,le),p(Y,N),p(N,y),p(Y,F),p(Y,ie),p(Y,ce),p(Y,ue),p(ue,de),p(e,Ie),p(e,Le),Ve||(Ke=[T(a,"input",t[10]),T(A,"click",t[7]),T(N,"click",t[14]),T(Le,"click",t[15])],Ve=!0)},p(ne,[fe]){var wt,yt,Ct,It;fe&17&&O(n,"background-image","url("+(ne[4].profile?ne[4].profile:ne[0].profile)+")"),ne[2]?me?me.p(ne,fe):(me=Qt(ne),me.c(),me.m(s,o)):me&&(me.d(1),me=null),fe&1&&O(c,"background-image","url("+ne[0].profile+")"),fe&1&&h!==(h=ne[0].name+"")&&ae(f,h),fe&4&&u!==(u=ne[2]?"true":"false")&&l(a,"contenteditable",u),fe&4&&g!==(g="namee "+(ne[2]?"edit":"")+" svelte-1xdhp2n")&&l(a,"class",g),ne[2]?be&&(be.d(1),be=null):be?be.p(ne,fe):(be=$t(ne),be.c(),be.m(r,b)),fe&1&&m!==(m=ne[0].email+"")&&ae(k,m),Pe!==(Pe=Xe(ne))&&(E.d(1),E=Pe(ne),E&&(E.c(),E.m(A,null))),fe&1&&w!==(w=ne[0].description+"")&&ae(U,w),fe&4&&X!==(X=ne[2]?"true":"false")&&l(I,"contenteditable",X),fe&4&&re!==(re=xe(ne[2]?"on":"")+" svelte-1xdhp2n")&&l(I,"class",re),fe&8&&O(s,"display",ne[3]?"flex":"none"),fe&1&&O(R,"background-image","url("+(Object.keys(ne[0]).length!=0?ne[0].profile:"")+")"),fe&1&&O(G,"background-image","url("+(Object.keys(ne[0]).length!=0?ne[0].profile:"")+")"),fe&1&&Z!==(Z=((yt=(wt=ne[0])==null?void 0:wt.name)!=null?yt:"")+"")&&ae($,Z),fe&1&&ge!==(ge=((It=(Ct=ne[0])==null?void 0:Ct.email)!=null?It:"")+"")&&ae(de,ge)},i:oe,o:oe,d(ne){ne&&q(e),me&&me.d(),t[11](null),be&&be.d(),E.d(),t[13](null),Ve=!1,he(Ke)}}}function Sn(t,e){var s=new FileReader;s.onload=function(n){e(n.target.result)},s.readAsDataURL(t)}const En=()=>{};function Bn(t,e,s){let{meInfo:n}=e,{socket:i}=e,o=!1,r=!1,c={name:"",profile:"",description:""},d,a,h;const f=()=>{o&&(s(4,c.name=h.textContent,c),s(4,c.profile=c.profile?c.profile:n.profile,c),s(4,c.description=d.textContent,c),i.emit("userDataEdit",{name:c.name,description:c.description,profile:c.profile,token:window.localStorage.getItem("token")})),s(2,o=!o)};function u(){a=this.files,s(1,a)}const g=()=>s(6,h.textContent=h.textContent.replace(`
`,""),h);function v(m){ye[m?"unshift":"push"](()=>{h=m,s(6,h)})}const b=()=>navigator.clipboard.writeText(`${n.name}`);function x(m){ye[m?"unshift":"push"](()=>{d=m,s(5,d)})}const L=()=>navigator.clipboard.writeText(`${Object.keys(n).length!=0?n.name:""}`),C=()=>s(3,r=!r);return t.$$set=m=>{"meInfo"in m&&s(0,n=m.meInfo),"socket"in m&&s(8,i=m.socket)},t.$$.update=()=>{t.$$.dirty&2&&a&&Sn(a[0],m=>s(4,c.profile=m,c))},[n,a,o,r,c,d,h,f,i,u,g,v,b,x,L,C]}class An extends Ae{constructor(e){super(),Be(this,e,Bn,Mn,ve,{meInfo:0,socket:8})}}const{window:dt}=We;function es(t,e,s){const n=t.slice();return n[56]=e[s],n}function ts(t,e,s){const n=t.slice();return n[56]=e[s],n}function ss(t,e,s){const n=t.slice();return n[61]=e[s],n}function ns(t,e,s){const n=t.slice();return n[64]=e[s],n[66]=s,n}function Dn(t){var I,w,U,X,re,J;let e,s,n,i,o=(t[5].find(A)?t[5].find(P).name:"")+"",r,c,d,a,h=t[19](t[64].timestamp)+"",f,u,g,v,b=((J=(re=(X=(U=(w=(I=t[64])==null?void 0:I.content)==null?void 0:w.replace(/&/g,"&amp;"))==null?void 0:U.replace(/ /g,"&nbsp;"))==null?void 0:X.replace(/</g,"&lt;"))==null?void 0:re.replace(/>/g,"&gt;"))==null?void 0:J.replace(/\n/g,"<br>"))+"",x,L,C,m;function k(...R){return t[34](t[64],...R)}function M(...R){return t[35](t[64],...R)}function A(...R){return t[36](t[64],...R)}function P(...R){return t[37](t[64],...R)}function H(...R){return t[38](t[64],...R)}function D(...R){return t[39](t[64],...R)}function z(...R){return t[40](t[64],...R)}function W(...R){return t[41](t[64],...R)}return{c(){var R,K,Y,G,te,Q,Z,$,le,N,y;e=_("div"),s=B(),n=_("div"),i=_("b"),r=j(o),d=B(),a=_("b"),f=j(h),g=B(),v=_("p"),l(e,"id","profile"),O(e,"background-image","url("+((Y=(K=(R=t[5])==null?void 0:R.find(k))==null?void 0:K.profile)!=null?Y:"")+")"),l(e,"class","svelte-10xd9i2"),l(i,"id",c=((te=(G=t[5])==null?void 0:G.find(H))==null?void 0:te.userId)+"-"+t[64].chatId),l(i,"class","svelte-10xd9i2"),l(a,"id",u=((Z=(Q=t[5])==null?void 0:Q.find(D))==null?void 0:Z.userId)+"-"+t[64].chatId),l(a,"class","svelte-10xd9i2"),l(v,"id",x=((le=($=t[5])==null?void 0:$.find(z))==null?void 0:le.userId)+"-"+t[64].chatId),l(v,"class","svelte-10xd9i2"),l(n,"id",L=((y=(N=t[5])==null?void 0:N.find(W))==null?void 0:y.userId)+"-"+t[64].chatId),l(n,"class","svelte-10xd9i2")},m(R,K){S(R,e,K),S(R,s,K),S(R,n,K),p(n,i),p(i,r),p(n,d),p(n,a),p(a,f),p(n,g),p(n,v),v.innerHTML=b,C||(m=T(e,"click",M),C=!0)},p(R,K){var Y,G,te,Q,Z,$,le,N,y,F,ie,ce,ue,ge,de,Ie,Le;t=R,K[0]&40&&O(e,"background-image","url("+((te=(G=(Y=t[5])==null?void 0:Y.find(k))==null?void 0:G.profile)!=null?te:"")+")"),K[0]&40&&o!==(o=(t[5].find(A)?t[5].find(P).name:"")+"")&&ae(r,o),K[0]&40&&c!==(c=((Z=(Q=t[5])==null?void 0:Q.find(H))==null?void 0:Z.userId)+"-"+t[64].chatId)&&l(i,"id",c),K[0]&8&&h!==(h=t[19](t[64].timestamp)+"")&&ae(f,h),K[0]&40&&u!==(u=((le=($=t[5])==null?void 0:$.find(D))==null?void 0:le.userId)+"-"+t[64].chatId)&&l(a,"id",u),K[0]&8&&b!==(b=((ue=(ce=(ie=(F=(y=(N=t[64])==null?void 0:N.content)==null?void 0:y.replace(/&/g,"&amp;"))==null?void 0:F.replace(/ /g,"&nbsp;"))==null?void 0:ie.replace(/</g,"&lt;"))==null?void 0:ce.replace(/>/g,"&gt;"))==null?void 0:ue.replace(/\n/g,"<br>"))+"")&&(v.innerHTML=b),K[0]&40&&x!==(x=((de=(ge=t[5])==null?void 0:ge.find(z))==null?void 0:de.userId)+"-"+t[64].chatId)&&l(v,"id",x),K[0]&40&&L!==(L=((Le=(Ie=t[5])==null?void 0:Ie.find(W))==null?void 0:Le.userId)+"-"+t[64].chatId)&&l(n,"id",L)},d(R){R&&q(e),R&&q(s),R&&q(n),C=!1,m()}}}function Tn(t){var o,r,c,d,a,h;let e,s=((h=(a=(d=(c=(r=(o=t[64])==null?void 0:o.content)==null?void 0:r.replace(/&/g,"&amp;"))==null?void 0:c.replace(/ /g,"&nbsp;"))==null?void 0:d.replace(/</g,"&lt;"))==null?void 0:a.replace(/>/g,"&gt;"))==null?void 0:h.replace(/\n/g,"<br>"))+"",n;function i(...f){return t[33](t[64],...f)}return{c(){var f,u;e=_("p"),l(e,"id",n=((u=(f=t[5])==null?void 0:f.find(i))==null?void 0:u.userId)+"-"+t[64].chatId),l(e,"class","svelte-10xd9i2")},m(f,u){S(f,e,u),e.innerHTML=s},p(f,u){var g,v,b,x,L,C,m,k;t=f,u[0]&8&&s!==(s=((C=(L=(x=(b=(v=(g=t[64])==null?void 0:g.content)==null?void 0:v.replace(/&/g,"&amp;"))==null?void 0:b.replace(/ /g,"&nbsp;"))==null?void 0:x.replace(/</g,"&lt;"))==null?void 0:L.replace(/>/g,"&gt;"))==null?void 0:C.replace(/\n/g,"<br>"))+"")&&(e.innerHTML=s),u[0]&40&&n!==(n=((k=(m=t[5])==null?void 0:m.find(i))==null?void 0:k.userId)+"-"+t[64].chatId)&&l(e,"id",n)},d(f){f&&q(e)}}}function is(t){let e;return{c(){e=_("br"),l(e,"class","svelte-10xd9i2")},m(s,n){S(s,e,n)},d(s){s&&q(e)}}}function ls(t){let e,s,n,i,o,r=t[66]+1!=t[3].length&&t[3][t[66]+1].userId!=t[64].userId||t[66]+1!=t[3].length&&new Date(t[64].timestamp).getMinutes()-new Date(t[3][t[66]+1].timestamp).getMinutes()!=0,c,d,a;function h(b,x){return x[0]&8&&(s=null),s==null&&(s=b[66]!=0&&b[3][b[66]-1].userId==b[64].userId&&b[66]!=0&&new Date(b[64].timestamp).getMinutes()-new Date(b[3][b[66]-1].timestamp).getMinutes()==0),s?Tn:Dn}let f=h(t,[-1,-1,-1]),u=f(t);function g(...b){return t[42](t[64],...b)}let v=r&&is();return{c(){var b,x;e=_("div"),u.c(),o=B(),v&&v.c(),c=Ce(),l(e,"id",n=((x=(b=t[5])==null?void 0:b.find(g))==null?void 0:x.userId)+"-"+t[64].chatId),l(e,"class","chating svelte-10xd9i2"),l(e,"style",i=t[64].chatId==t[12]?"background-color: #e1e1e1;":"")},m(b,x){S(b,e,x),u.m(e,null),S(b,o,x),v&&v.m(b,x),S(b,c,x),d||(a=T(e,"contextmenu",t[27]),d=!0)},p(b,x){var L,C;t=b,f===(f=h(t,x))&&u?u.p(t,x):(u.d(1),u=f(t),u&&(u.c(),u.m(e,null))),x[0]&40&&n!==(n=((C=(L=t[5])==null?void 0:L.find(g))==null?void 0:C.userId)+"-"+t[64].chatId)&&l(e,"id",n),x[0]&4104&&i!==(i=t[64].chatId==t[12]?"background-color: #e1e1e1;":"")&&l(e,"style",i),x[0]&8&&(r=t[66]+1!=t[3].length&&t[3][t[66]+1].userId!=t[64].userId||t[66]+1!=t[3].length&&new Date(t[64].timestamp).getMinutes()-new Date(t[3][t[66]+1].timestamp).getMinutes()!=0),r?v||(v=is(),v.c(),v.m(c.parentNode,c)):v&&(v.d(1),v=null)},d(b){b&&q(e),u.d(),b&&q(o),v&&v.d(b),b&&q(c),d=!1,a()}}}function os(t){var L;let e,s,n,i,o,r,c,d,a,h,f,u,g,v,b=(L=t[4])==null?void 0:L.inviteCode,x=[];for(let C=0;C<b.length;C+=1)x[C]=rs(ss(t,b,C));return{c(){var C,m,k,M;e=_("div"),s=_("div"),n=V("svg"),i=V("path"),o=B(),r=_("p"),r.textContent="inviteCode",c=B(),d=_("div"),a=V("svg"),h=V("path"),u=B();for(let A=0;A<x.length;A+=1)x[A].c();l(i,"fill","#000"),l(i,"d","M7.38 21.01c.49.49 1.28.49 1.77 0l8.31-8.31a.996.996 0 0 0 0-1.41L9.15 2.98a1.25 1.25 0 0 0-1.77 0 1.25 1.25 0 0 0 0 1.77L14.62 12l-7.25 7.25c-.48.48-.48 1.28.01 1.76Z"),l(i,"class","svelte-10xd9i2"),O(n,"transform",t[8]?"rotate(0deg)":"rotate(90deg)"),l(n,"xmlns","http://www.w3.org/2000/svg"),l(n,"width","10"),l(n,"height","10"),l(n,"fill","none"),l(n,"viewBox","0 0 24 24"),l(n,"class","svelte-10xd9i2"),O(r,"display","inline-block"),l(r,"class","svelte-10xd9i2"),l(s,"class","svelte-10xd9i2"),l(h,"fill","#000"),l(h,"d","M18 13h-5v5c0 .55-.45 1-1 1s-1-.45-1-1v-5H6c-.55 0-1-.45-1-1s.45-1 1-1h5V6c0-.55.45-1 1-1s1 .45 1 1v5h5c.55 0 1 .45 1 1s-.45 1-1 1Z"),l(h,"class","svelte-10xd9i2"),l(a,"xmlns","http://www.w3.org/2000/svg"),l(a,"width","15"),l(a,"height","15"),l(a,"fill","none"),l(a,"viewBox","0 0 24 25"),l(a,"class","svelte-10xd9i2"),l(d,"class",f="addinvite "+(t[8]?"disable":"")+" svelte-10xd9i2"),l(e,"class","inviteCode svelte-10xd9i2"),O(e,"max-height",t[8]?"28px":`${3166*((m=(C=t[4])==null?void 0:C.inviteCode)==null?void 0:m.length)/100+28+12*((M=(k=t[4])==null?void 0:k.inviteCode)!=null&&M.length?1:0)}px`)},m(C,m){S(C,e,m),p(e,s),p(s,n),p(n,i),p(s,o),p(s,r),p(e,c),p(e,d),p(d,a),p(a,h),p(e,u);for(let k=0;k<x.length;k+=1)x[k].m(e,null);g||(v=[T(s,"click",t[44]),T(d,"click",t[24])],g=!0)},p(C,m){var k,M,A,P,H;if(m[0]&256&&O(n,"transform",C[8]?"rotate(0deg)":"rotate(90deg)"),m[0]&256&&f!==(f="addinvite "+(C[8]?"disable":"")+" svelte-10xd9i2")&&l(d,"class",f),m[0]&33554448){b=(k=C[4])==null?void 0:k.inviteCode;let D;for(D=0;D<b.length;D+=1){const z=ss(C,b,D);x[D]?x[D].p(z,m):(x[D]=rs(z),x[D].c(),x[D].m(e,null))}for(;D<x.length;D+=1)x[D].d(1);x.length=b.length}m[0]&272&&O(e,"max-height",C[8]?"28px":`${3166*((A=(M=C[4])==null?void 0:M.inviteCode)==null?void 0:A.length)/100+28+12*((H=(P=C[4])==null?void 0:P.inviteCode)!=null&&H.length?1:0)}px`)},d(C){C&&q(e),Re(x,C),g=!1,he(v)}}}function rs(t){let e,s=t[61]+"",n,i,o,r,c,d,a,h,f,u;function g(){return t[45](t[61])}function v(){return t[46](t[61])}return{c(){e=_("div"),n=j(s),i=B(),o=V("svg"),r=V("path"),c=B(),d=V("svg"),a=V("path"),h=B(),l(r,"fill","#000"),l(r,"d","M2.895.545c0-.3.244-.545.545-.545h6.402C10.48 0 11 .49 11 1.09v7.058a.579.579 0 1 1-1.158 0V2.091a1 1 0 0 0-1-1H3.44a.545.545 0 0 1-.545-.546ZM1.158 2.182h6.368c.637 0 1.158.49 1.158 1.09v7.637c0 .6-.52 1.091-1.158 1.091H1.158C.52 12 0 11.51 0 10.91V3.272c0-.6.521-1.091 1.158-1.091Zm0 7.727a1 1 0 0 0 1 1h4.368a1 1 0 0 0 1-1V4.273a1 1 0 0 0-1-1H2.158a1 1 0 0 0-1 1v5.636Z"),l(r,"class","svelte-10xd9i2"),l(o,"class","invitecopy svelte-10xd9i2"),l(o,"xmlns","http://www.w3.org/2000/svg"),l(o,"width","15"),l(o,"height","15"),l(o,"fill","none"),l(o,"viewBox","-2 -2 16 16"),l(a,"fill","#000"),l(a,"d","M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59 7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12 5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4Z"),l(a,"class","svelte-10xd9i2"),l(d,"class","inviteDelete svelte-10xd9i2"),l(d,"xmlns","http://www.w3.org/2000/svg"),l(d,"width","15"),l(d,"height","15"),l(d,"fill","none"),l(d,"viewBox","0 0 24 24"),l(e,"class","inviteCodes svelte-10xd9i2")},m(b,x){S(b,e,x),p(e,n),p(e,i),p(e,o),p(o,r),p(e,c),p(e,d),p(d,a),p(e,h),f||(u=[T(o,"click",g),T(d,"click",v)],f=!0)},p(b,x){t=b,x[0]&16&&s!==(s=t[61]+"")&&ae(n,s)},d(b){b&&q(e),f=!1,he(u)}}}function Nn(t){let e,s=t[0],n=[];for(let i=0;i<s.length;i+=1)n[i]=as(ts(t,s,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Ce()},m(i,o){for(let r=0;r<n.length;r+=1)n[r].m(i,o);S(i,e,o)},p(i,o){if(o[0]&7602181){s=i[0];let r;for(r=0;r<s.length;r+=1){const c=ts(i,s,r);n[r]?n[r].p(c,o):(n[r]=as(c),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=s.length}},d(i){Re(n,i),i&&q(e)}}}function On(t){let e,s,n,i,o;function r(){return t[48](t[56])}function c(){return t[49](t[56])}return{c(){e=_("button"),e.textContent="\uCD94\uBC29",s=B(),n=_("button"),n.textContent="\uCC28\uB2E8",l(e,"class","kick svelte-10xd9i2"),l(n,"class","ban svelte-10xd9i2")},m(d,a){S(d,e,a),S(d,s,a),S(d,n,a),i||(o=[T(e,"click",r),T(n,"click",c)],i=!0)},p(d,a){t=d},d(d){d&&q(e),d&&q(s),d&&q(n),i=!1,he(o)}}}function Rn(t){let e,s,n,i;function o(){return t[47](t[56])}return{c(){e=V("svg"),s=V("path"),l(s,"fill","#000"),l(s,"d","M20 2H4c-1.1 0-2 .9-2 2v16.793a.5.5 0 0 0 .854.353l3-3A.5.5 0 0 1 6.207 18H20c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2Z"),l(s,"class","svelte-10xd9i2"),l(e,"class","openDM svelte-10xd9i2"),l(e,"xmlns","http://www.w3.org/2000/svg"),l(e,"width","20"),l(e,"height","20"),l(e,"fill","none"),l(e,"viewBox","-3 -3 30 30")},m(r,c){S(r,e,c),p(e,s),n||(i=T(e,"click",o),n=!0)},p(r,c){t=r},d(r){r&&q(e),n=!1,i()}}}function as(t){var v;let e,s,n,i,o=((v=t[56])==null?void 0:v.name)+"",r,c,d,a,h;function f(b,x){var L,C;if(x[0]&262149&&(d=null),x[0]&5&&(a=null),d==null&&(d=((L=b[56])==null?void 0:L.userId)!=b[2].userId&&location.hash.replace("#/","").split("/")[0]!="DM"&&!b[18]),d)return Rn;if(a==null&&(a=((C=b[56])==null?void 0:C.userId)!=b[2].userId&&location.hash.replace("#/","").split("/")[0]!="DM"),a)return On}let u=f(t,[-1,-1,-1]),g=u&&u(t);return{c(){var b;e=_("div"),s=_("div"),n=B(),i=_("p"),r=j(o),c=B(),g&&g.c(),h=B(),O(s,"background-image","url("+((b=t[56])==null?void 0:b.profile)+")"),l(s,"class","svelte-10xd9i2"),l(i,"class","svelte-10xd9i2"),l(e,"class","user svelte-10xd9i2")},m(b,x){S(b,e,x),p(e,s),p(e,n),p(e,i),p(i,r),p(e,c),g&&g.m(e,null),p(e,h)},p(b,x){var L,C;x[0]&1&&O(s,"background-image","url("+((L=b[56])==null?void 0:L.profile)+")"),x[0]&1&&o!==(o=((C=b[56])==null?void 0:C.name)+"")&&ae(r,o),u===(u=f(b,x))&&g?g.p(b,x):(g&&g.d(1),g=u&&u(b),g&&(g.c(),g.m(e,h)))},d(b){b&&q(e),g&&g.d()}}}function zn(t){var b;let e,s,n,i=((b=t[0])==null?void 0:b.length)+"",o,r,c,d=t[4]?t[4].administration.includes(t[2].userId):!1,a,h,f=t[6],u,g=d&&cs(t),v=hs(t);return{c(){e=_("div"),s=_("p"),n=j("\uC720\uC800 - "),o=j(i),r=j("\uBA85"),c=B(),g&&g.c(),a=B(),h=_("div"),v.c(),l(s,"class","userCount svelte-10xd9i2"),l(h,"class",u="bannedMember "+(t[17]?"on":"")+" svelte-10xd9i2"),O(h,"height",(t[17]?"200":"0")+"px"),O(e,"height",(t[17]?"240":"40")+"px"),l(e,"class","userSetting svelte-10xd9i2")},m(x,L){S(x,e,L),p(e,s),p(s,n),p(s,o),p(s,r),p(e,c),g&&g.m(e,null),p(e,a),p(e,h),v.m(h,null)},p(x,L){var C;L[0]&1&&i!==(i=((C=x[0])==null?void 0:C.length)+"")&&ae(o,i),L[0]&20&&(d=x[4]?x[4].administration.includes(x[2].userId):!1),d?g?g.p(x,L):(g=cs(x),g.c(),g.m(e,a)):g&&(g.d(1),g=null),L[0]&64&&ve(f,f=x[6])?(v.d(1),v=hs(x),v.c(),v.m(h,null)):v.p(x,L),L[0]&131072&&u!==(u="bannedMember "+(x[17]?"on":"")+" svelte-10xd9i2")&&l(h,"class",u),L[0]&131072&&O(h,"height",(x[17]?"200":"0")+"px"),L[0]&131072&&O(e,"height",(x[17]?"240":"40")+"px")},d(x){x&&q(e),g&&g.d(),v.d(x)}}}function cs(t){let e,s,n,i,o,r,c,d;return{c(){e=_("p"),e.innerHTML=`\uC720\uC800
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 24 28" class="svelte-10xd9i2"><path fill="#000" d="M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65A.488.488 0 0 0 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65ZM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5Z" class="svelte-10xd9i2"></path></svg>`,s=B(),n=_("p"),i=j(`\uCC28\uB2E8\r
                            `),o=V("svg"),r=V("path"),l(e,"class","setMember1 svelte-10xd9i2"),l(r,"fill","#000"),l(r,"d","M7.38 21.01c.49.49 1.28.49 1.77 0l8.31-8.31a.996.996 0 0 0 0-1.41L9.15 2.98a1.25 1.25 0 0 0-1.77 0 1.25 1.25 0 0 0 0 1.77L14.62 12l-7.25 7.25c-.48.48-.48 1.28.01 1.76Z"),l(r,"class","svelte-10xd9i2"),O(o,"transform",t[17]?"rotate(90deg)":"rotate(-90deg)"),l(o,"xmlns","http://www.w3.org/2000/svg"),l(o,"width","15"),l(o,"height","15"),l(o,"fill","none"),l(o,"viewBox","0 0 24 24"),l(o,"class","svelte-10xd9i2"),l(n,"class","setMember2 svelte-10xd9i2")},m(a,h){S(a,e,h),S(a,s,h),S(a,n,h),p(n,i),p(n,o),p(o,r),c||(d=[T(e,"click",t[50]),T(n,"click",t[51])],c=!0)},p(a,h){h[0]&131072&&O(o,"transform",a[17]?"rotate(90deg)":"rotate(-90deg)")},d(a){a&&q(e),a&&q(s),a&&q(n),c=!1,he(d)}}}function ds(t){var g;let e,s,n,i,o=((g=t[56])==null?void 0:g.name)+"",r,c,d,a,h,f;function u(){return t[52](t[56])}return{c(){var v;e=_("div"),s=_("div"),n=B(),i=_("p"),r=j(o),c=B(),d=_("button"),d.textContent="\uCC28\uB2E8\uD574\uC81C",a=B(),O(s,"background-image","url("+((v=t[56])==null?void 0:v.profile)+")"),l(s,"class","svelte-10xd9i2"),l(i,"class","svelte-10xd9i2"),l(d,"class","ban svelte-10xd9i2"),l(e,"class","user svelte-10xd9i2")},m(v,b){S(v,e,b),p(e,s),p(e,n),p(e,i),p(i,r),p(e,c),p(e,d),p(e,a),h||(f=T(d,"click",u),h=!0)},p(v,b){var x,L;t=v,b[0]&64&&O(s,"background-image","url("+((x=t[56])==null?void 0:x.profile)+")"),b[0]&64&&o!==(o=((L=t[56])==null?void 0:L.name)+"")&&ae(r,o)},d(v){v&&q(e),h=!1,f()}}}function hs(t){var h;let e,s,n=((h=t[6])==null?void 0:h.length)+"",i,o,r,c,d=t[6],a=[];for(let f=0;f<d.length;f+=1)a[f]=ds(es(t,d,f));return{c(){e=_("p"),s=j("\uCC28\uB2E8\uB41C \uC720\uC800 - "),i=j(n),o=j("\uBA85"),r=B();for(let f=0;f<a.length;f+=1)a[f].c();c=Ce(),l(e,"class","bbbb svelte-10xd9i2")},m(f,u){S(f,e,u),p(e,s),p(e,i),p(e,o),S(f,r,u);for(let g=0;g<a.length;g+=1)a[g].m(f,u);S(f,c,u)},p(f,u){var g;if(u[0]&64&&n!==(n=((g=f[6])==null?void 0:g.length)+"")&&ae(i,n),u[0]&8388672){d=f[6];let v;for(v=0;v<d.length;v+=1){const b=es(f,d,v);a[v]?a[v].p(b,u):(a[v]=ds(b),a[v].c(),a[v].m(c.parentNode,c))}for(;v<a.length;v+=1)a[v].d(1);a.length=d.length}},d(f){f&&q(e),f&&q(r),Re(a,f),f&&q(c)}}}function ps(t){let e,s=t[4]?location.hash.replace("#/","").split("/")[0]!="DM"&&t[4].administration.includes(t[2].userId):!1,n,i=!(location.hash.replace("#/","").split("/")[0]=="DM"&&location.hash.replace("#/","").split("/")[1]=="main"),o,r,c=location.hash.replace("#/","").split("/")[0]!="DM",d,a=s&&os(t),h=i&&Nn(t),f=c&&zn(t);return{c(){e=_("div"),a&&a.c(),n=B(),h&&h.c(),r=B(),f&&f.c(),d=Ce(),l(e,"class","sidebar svelte-10xd9i2"),l(e,"style",o=t[4]&&location.hash.replace("#/","").split("/")[0]!="DM"?`height: calc( 100% - ${t[17]?"240":"40"}px );`:"height: 100%;")},m(u,g){S(u,e,g),a&&a.m(e,null),p(e,n),h&&h.m(e,null),S(u,r,g),f&&f.m(u,g),S(u,d,g)},p(u,g){g[0]&20&&(s=u[4]?location.hash.replace("#/","").split("/")[0]!="DM"&&u[4].administration.includes(u[2].userId):!1),s?a?a.p(u,g):(a=os(u),a.c(),a.m(e,n)):a&&(a.d(1),a=null),i&&h.p(u,g),g[0]&131088&&o!==(o=u[4]&&location.hash.replace("#/","").split("/")[0]!="DM"?`height: calc( 100% - ${u[17]?"240":"40"}px );`:"height: 100%;")&&l(e,"style",o),c&&f.p(u,g)},d(u){u&&q(e),a&&a.d(),h&&h.d(),u&&q(r),f&&f.d(u),u&&q(d)}}}function fs(t){let e,s,n;return{c(){e=_("button"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="-1 -1 24 24" class="svelte-10xd9i2"><path fill="#000" d="M20 2H4c-1.1 0-2 .9-2 2v16.793a.5.5 0 0 0 .854.353l3-3A.5.5 0 0 1 6.207 18H20c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2Z" class="svelte-10xd9i2"></path></svg>',l(e,"class","svelte-10xd9i2")},m(i,o){S(i,e,o),s||(n=T(e,"click",t[55]),s=!0)},p:oe,d(i){i&&q(e),s=!1,n()}}}function Pn(t){var Q,Z,$,le;let e,s,n,i,o,r,c,d,a=t[3]&&t[5],h,f,u,g,v,b,x,L,C=((Q=t[15])==null?void 0:Q.name)+"",m,k,M,A,P,H,D,z,W,I=((Z=t[15])==null?void 0:Z.description)+"",w,U,X,re,J,R,K=t[3],Y=[];for(let N=0;N<K.length;N+=1)Y[N]=ls(ns(t,K,N));let G=ps(t),te=(($=t[15])==null?void 0:$.userId)!=((le=t[2])==null?void 0:le.userId)&&fs(t);return{c(){var N;e=_("div"),s=_("div");for(let y=0;y<Y.length;y+=1)Y[y].c();n=B(),i=V("svg"),o=V("path"),r=B(),c=_("div"),d=_("div"),G.c(),u=B(),g=_("div"),v=_("div"),b=B(),x=_("div"),L=_("p"),m=j(C),k=B(),M=V("svg"),A=V("path"),P=B(),te&&te.c(),H=B(),D=_("p"),D.textContent="\uC18C\uAC1C",z=B(),W=_("div"),w=j(I),U=B(),X=_("div"),re=j("\uBA54\uC2DC\uC9C0 \uC0AD\uC81C"),l(s,"class","svelte-10xd9i2"),l(o,"fill","#FFF"),l(o,"d","M2.477.707a1 1 0 0 0-1.414 0l-.356.356a1 1 0 0 0 0 1.414l8.586 8.586a1 1 0 0 0 1.414 0l8.586-8.586a1 1 0 0 0 0-1.414l-.356-.356a1 1 0 0 0-1.414 0l-6.816 6.816a1 1 0 0 1-1.414 0L2.477.707Z"),l(o,"class","svelte-10xd9i2"),l(i,"class","top-button svelte-10xd9i2"),O(i,"right",(t[1]?"270":"20")+"px"),l(i,"width","10"),l(i,"height","10"),l(i,"fill","none"),l(i,"viewBox","0 0 20 15"),l(i,"xmlns","http://www.w3.org/2000/svg"),l(d,"class","inner svelte-10xd9i2"),l(c,"style",h=t[1]?"width: 250px":"width: 0px;"),l(c,"class","svelte-10xd9i2"),l(e,"class","chatContainer svelte-10xd9i2"),l(e,"style",f=t[1]?"width: calc(100% - 271px);":"width: calc(100% - 21px);"),l(v,"class","profile svelte-10xd9i2"),O(v,"background-image","url("+((N=t[15])==null?void 0:N.profile)+")"),l(L,"class","svelte-10xd9i2"),l(A,"fill","#000"),l(A,"d","M2.895.545c0-.3.244-.545.545-.545h6.402C10.48 0 11 .49 11 1.09v7.058a.579.579 0 1 1-1.158 0V2.091a1 1 0 0 0-1-1H3.44a.545.545 0 0 1-.545-.546ZM1.158 2.182h6.368c.637 0 1.158.49 1.158 1.09v7.637c0 .6-.52 1.091-1.158 1.091H1.158C.52 12 0 11.51 0 10.91V3.272c0-.6.521-1.091 1.158-1.091Zm0 7.727a1 1 0 0 0 1 1h4.368a1 1 0 0 0 1-1V4.273a1 1 0 0 0-1-1H2.158a1 1 0 0 0-1 1v5.636Z"),l(A,"class","svelte-10xd9i2"),l(M,"class","copy svelte-10xd9i2"),l(M,"xmlns","http://www.w3.org/2000/svg"),l(M,"width","11"),l(M,"height","12"),l(M,"fill","none"),l(M,"viewBox","0 0 11 12"),l(x,"class","name svelte-10xd9i2"),l(D,"class","so svelte-10xd9i2"),l(W,"class","svelte-10xd9i2"),l(g,"class","userProfile svelte-10xd9i2"),O(g,"top",t[14]+"px"),O(g,"left",t[13]+"px"),O(g,"display",t[16]?"block":"none"),l(X,"class","context svelte-10xd9i2"),O(X,"top",t[11]+"px"),O(X,"left",t[10]+"px"),O(X,"display",t[9]?"block":"none")},m(N,y){S(N,e,y),p(e,s);for(let F=0;F<Y.length;F+=1)Y[F].m(s,null);p(e,n),p(e,i),p(i,o),p(e,r),p(e,c),p(c,d),G.m(d,null),t[53](e),S(N,u,y),S(N,g,y),p(g,v),p(g,b),p(g,x),p(x,L),p(L,m),p(x,k),p(x,M),p(M,A),p(g,P),te&&te.m(g,null),p(g,H),p(g,D),p(g,z),p(g,W),p(W,w),S(N,U,y),S(N,X,y),p(X,re),J||(R=[T(dt,"contextmenu",t[28]),T(dt,"load",t[26]),T(dt,"click",t[29]),T(i,"click",t[43]),T(M,"click",t[54]),T(X,"click",t[30])],J=!0)},p(N,y){var F,ie,ce,ue,ge;if(y[0]&134746152|y[1]&1){K=N[3];let de;for(de=0;de<K.length;de+=1){const Ie=ns(N,K,de);Y[de]?Y[de].p(Ie,y):(Y[de]=ls(Ie),Y[de].c(),Y[de].m(s,null))}for(;de<Y.length;de+=1)Y[de].d(1);Y.length=K.length}y[0]&2&&O(i,"right",(N[1]?"270":"20")+"px"),y[0]&40&&ve(a,a=N[3]&&N[5])?(G.d(1),G=ps(N),G.c(),G.m(d,null)):G.p(N,y),y[0]&2&&h!==(h=N[1]?"width: 250px":"width: 0px;")&&l(c,"style",h),y[0]&2&&f!==(f=N[1]?"width: calc(100% - 271px);":"width: calc(100% - 21px);")&&l(e,"style",f),y[0]&32768&&O(v,"background-image","url("+((F=N[15])==null?void 0:F.profile)+")"),y[0]&32768&&C!==(C=((ie=N[15])==null?void 0:ie.name)+"")&&ae(m,C),((ce=N[15])==null?void 0:ce.userId)!=((ue=N[2])==null?void 0:ue.userId)?te?te.p(N,y):(te=fs(N),te.c(),te.m(g,H)):te&&(te.d(1),te=null),y[0]&32768&&I!==(I=((ge=N[15])==null?void 0:ge.description)+"")&&ae(w,I),y[0]&16384&&O(g,"top",N[14]+"px"),y[0]&8192&&O(g,"left",N[13]+"px"),y[0]&65536&&O(g,"display",N[16]?"block":"none"),y[0]&2048&&O(X,"top",N[11]+"px"),y[0]&1024&&O(X,"left",N[10]+"px"),y[0]&512&&O(X,"display",N[9]?"block":"none")},i:oe,o:oe,d(N){N&&q(e),Re(Y,N),G.d(N),t[53](null),N&&q(u),N&&q(g),te&&te.d(),N&&q(U),N&&q(X),J=!1,he(R)}}}function Hn(t,e,s){let{memberData:n}=e,{sideMenuOn:i}=e,{meInfo:o}=e,{chatsData:r}=e,{currentServer:c}=e,{socket:d}=e,{usersData:a}=e,{bannedUser:h}=e,f=!1,u,g=!1,v,b,x,L,C,m,k=!1,M=!1,A=!1;const P=E=>{let se=new Date(E);return`${se.getFullYear()}/${se.getMonth()}/${se.getDate()} ${se.getHours()}:${se.getMinutes()}`},H=E=>{d.emit("openDM",{userId:E,token:window.localStorage.getItem("token")})},D=E=>{d.emit("kickMember",{userId:E,serverId:c.serverId,token:window.localStorage.getItem("token")})},z=E=>{d.emit("banMember",{userId:E,serverId:c.serverId,token:window.localStorage.getItem("token")})},W=E=>{d.emit("unbanMember",{userId:E,serverId:c.serverId,token:window.localStorage.getItem("token")})},I=()=>{d.emit("createInviteCode",{serverId:c.serverId,token:window.localStorage.getItem("token")})},w=E=>{d.emit("deleteInviteCode",{serverId:c.serverId,inviteCode:E,token:window.localStorage.getItem("token")})};function U(){setTimeout(()=>{try{u.scrollTo(0,u.scrollHeight)}catch{}})}const X=E=>{var se;E.preventDefault(),!(!E.target.id||E.target.id=="profile"||!(E.target.id.split("-")[0]==o.userId||((se=c==null?void 0:c.administration)==null?void 0:se.includes(o.userId))))&&(s(12,x=E.target.id.split("-")[1]),s(10,v=E.clientX>=u.clientWidth+158?u.clientWidth+158:E.clientX),s(11,b=E.clientY>=u.clientHeight?u.clientHeight+15:E.clientY<=55?55:E.clientY),s(9,g=!0))},re=E=>{E.preventDefault()},J=E=>{E.target.id!="profile"&&(s(16,k=!1),s(15,m=void 0)),s(12,x=""),s(9,g=!1)},R=()=>{location.hash.replace("#/","").split("/")[0]!="DM"?d.emit("deleteChat",{serverId:c.serverId,chatId:Number(x),token:window.localStorage.getItem("token")}):d.emit("deleteDMChat",{userId:Number(location.hash.replace("#/","").split("/")[1]),chatId:Number(x),token:window.localStorage.getItem("token")})},K=(E,se)=>{s(16,k=!0),s(15,m=se),s(13,L=310),s(14,C=E.clientY+120>=u.clientHeight?u.clientHeight-220:E.clientY<=155?55:E.clientY-100)},Y=(E,se)=>se.userId==E.userId,G=(E,se)=>se.userId==E.userId,te=(E,se)=>K(se,a==null?void 0:a.find(Je=>Je.userId==E.userId)),Q=(E,se)=>se.userId==E.userId,Z=(E,se)=>se.userId==(E==null?void 0:E.userId),$=(E,se)=>se.userId==E.userId,le=(E,se)=>se.userId==E.userId,N=(E,se)=>se.userId==E.userId,y=(E,se)=>se.userId==E.userId,F=(E,se)=>se.userId==E.userId,ie=()=>{u.scrollBy({top:u.scrollHeight,left:0,behavior:"smooth"})},ce=()=>s(8,f=!f),ue=E=>navigator.clipboard.writeText(`${location.origin}${location.pathname}#invite/${E}`),ge=E=>w(E),de=E=>H(E==null?void 0:E.userId),Ie=E=>D(E==null?void 0:E.userId),Le=E=>z(E==null?void 0:E.userId),Ve=()=>s(18,A=!A),Ke=()=>s(17,M=!M),me=E=>W(E==null?void 0:E.userId);function be(E){ye[E?"unshift":"push"](()=>{u=E,s(7,u)})}const Xe=()=>navigator.clipboard.writeText(`${m==null?void 0:m.name}`),Pe=()=>H(m==null?void 0:m.userId);return t.$$set=E=>{"memberData"in E&&s(0,n=E.memberData),"sideMenuOn"in E&&s(1,i=E.sideMenuOn),"meInfo"in E&&s(2,o=E.meInfo),"chatsData"in E&&s(3,r=E.chatsData),"currentServer"in E&&s(4,c=E.currentServer),"socket"in E&&s(32,d=E.socket),"usersData"in E&&s(5,a=E.usersData),"bannedUser"in E&&s(6,h=E.bannedUser)},t.$$.update=()=>{t.$$.dirty[0]&140&&(u&&u.scrollHeight-u.scrollTop-u.clientHeight<=30||r.length!=0&&o&&r[r.length-1].userId==o.userId)&&U()},[n,i,o,r,c,a,h,u,f,g,v,b,x,L,C,m,k,M,A,P,H,D,z,W,I,w,U,X,re,J,R,K,d,Y,G,te,Q,Z,$,le,N,y,F,ie,ce,ue,ge,de,Ie,Le,Ve,Ke,me,be,Xe,Pe]}class Vn extends Ae{constructor(e){super(),Be(this,e,Hn,Pn,ve,{memberData:0,sideMenuOn:1,meInfo:2,chatsData:3,currentServer:4,socket:32,usersData:5,bannedUser:6},null,[-1,-1,-1])}}function Zn(t){let e,s,n,i,o,r,c,d,a;return{c(){e=_("div"),s=_("button"),s.innerHTML='<svg width="20" height="20" fill="none" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="svelte-aoa2ez"><path fill="#000" d="M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0Zm5 11h-4v4H9v-4H5V9h4V5h2v4h4v2Z" class="svelte-aoa2ez"></path></svg>',n=B(),i=_("div"),o=_("textarea"),r=B(),c=_("button"),c.innerHTML='<svg width="18" height="18" fill="none" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg" class="svelte-aoa2ez"><path fill="#000" d="M12.735 21.57 21.213.364.007 8.842 4.95 13.8l12.02-9.193-9.192 12.021 4.957 4.943Z" class="svelte-aoa2ez"></path></svg>',l(s,"class","chatMenu svelte-aoa2ez"),l(o,"spellcheck","false"),l(o,"class","chatInput svelte-aoa2ez"),l(o,"maxlength","4000"),l(o,"type","text"),o.autofocus=!0,l(i,"class","chatBox svelte-aoa2ez"),l(c,"class","chatSendButton svelte-aoa2ez"),l(e,"class","inputContainer svelte-aoa2ez")},m(h,f){S(h,e,f),p(e,s),p(e,n),p(e,i),p(i,o),Ne(o,t[0]),p(e,r),p(e,c),o.focus(),d||(a=[T(s,"click",t[2]),T(o,"keydown",t[3]),T(o,"input",t[6]),T(c,"click",t[1])],d=!0)},p(h,[f]){f&1&&Ne(o,h[0])},i:oe,o:oe,d(h){h&&q(e),d=!1,he(a)}}}function Un(t,e,s){let{socket:n}=e,{currentCategory:i}=e,o="";const r=()=>{o&&(location.hash.replace("#/","").split("/")[0]=="DM"?n.emit("DMChat",{token:window.localStorage.getItem("token"),userId:Number(location.hash.replace("#/","").split("/")[1]),content:o,contentType:"text"}):n.emit("chat",{token:window.localStorage.getItem("token"),serverId:Number(location.hash.replace("#/","").split("/")[0]),categoryId:i==null?void 0:i.categoryId,channelId:Number(location.hash.replace("#/","").split("/")[1]),content:o,contentType:"text"})),s(0,o="")},c=()=>{console.log("menu opened")},d=h=>{!h.shiftKey&&h.keyCode==13&&(h.preventDefault(),r())};function a(){o=this.value,s(0,o)}return t.$$set=h=>{"socket"in h&&s(4,n=h.socket),"currentCategory"in h&&s(5,i=h.currentCategory)},[o,r,c,d,n,i,a]}class Fn extends Ae{constructor(e){super(),Be(this,e,Un,Zn,ve,{socket:4,currentCategory:5})}}const{window:Yn}=We;function us(t){let e,s,n,i,o,r,c,d,a,h,f,u,g;return{c(){e=_("p"),e.textContent="check password",s=B(),n=_("input"),o=B(),r=_("div"),c=V("svg"),d=V("path"),h=B(),f=_("br"),l(e,"class","svelte-14yy6m9"),l(n,"type","password"),l(n,"autocomplete","true"),n.required=!0,l(n,"class",i=xe(t[3]?t[3]==t[4]?"green":"red":"white")+" svelte-14yy6m9"),l(d,"fill","#000"),l(d,"d",a=t[1]?t[1].type=="text"?t[9].off:t[9].on:t[9].off),l(c,"xmlns","http://www.w3.org/2000/svg"),l(c,"width","20"),l(c,"height","20"),l(c,"fill","none"),l(c,"viewBox","0 0 24 22"),l(r,"class","pwv svelte-14yy6m9")},m(v,b){S(v,e,b),S(v,s,b),S(v,n,b),Ne(n,t[3]),t[21](n),S(v,o,b),S(v,r,b),p(r,c),p(c,d),p(r,h),S(v,f,b),u||(g=[T(n,"input",t[19]),T(n,"keydown",t[20]),T(r,"click",t[22])],u=!0)},p(v,b){b&24&&i!==(i=xe(v[3]?v[3]==v[4]?"green":"red":"white")+" svelte-14yy6m9")&&l(n,"class",i),b&8&&n.value!==v[3]&&Ne(n,v[3]),b&2&&a!==(a=v[1]?v[1].type=="text"?v[9].off:v[9].on:v[9].off)&&l(d,"d",a)},d(v){v&&q(e),v&&q(s),v&&q(n),t[21](null),v&&q(o),v&&q(r),v&&q(f),u=!1,he(g)}}}function Wn(t){let e,s,n,i=t[2]?"Sign in":"Sign up",o,r,c,d=t[2]?"\uD68C\uC6D0\uAC00\uC785":"\uB85C\uADF8\uC778",a,h,f,u,g,v,b,x,L,C,m,k,M,A,P,H,D,z,W,I,w,U,X,re,J,R=t[2]?"\uB85C\uADF8\uC778":"\uD68C\uC6D0\uAC00\uC785",K,Y,G,te,Q=!t[2]&&us(t);return{c(){e=_("div"),s=_("div"),n=_("b"),o=j(i),r=B(),c=_("div"),a=j(d),h=B(),f=_("p"),f.textContent="email",u=B(),g=_("input"),b=B(),x=_("p"),x.textContent="password",L=B(),C=_("input"),k=B(),M=_("div"),A=V("svg"),P=V("path"),D=B(),z=_("br"),W=B(),Q&&Q.c(),I=B(),w=_("div"),U=j(t[6]),re=B(),J=_("button"),K=j(R),l(n,"class","svelte-14yy6m9"),l(c,"class","chm svelte-14yy6m9"),l(f,"class","svelte-14yy6m9"),l(g,"type","email"),l(g,"autocomplete","true"),g.required=!0,g.autofocus=!0,l(g,"class",v=xe(t[5]?t[5].match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?"green":"red":"white")+" svelte-14yy6m9"),l(x,"class","svelte-14yy6m9"),l(C,"type","password"),l(C,"autocomplete","true"),C.required=!0,l(C,"class",m=xe(t[4]?"green":"white")+" svelte-14yy6m9"),l(P,"fill","#000"),l(P,"d",H=t[0]?t[0].type=="text"?t[9].off:t[9].on:t[9].off),l(A,"xmlns","http://www.w3.org/2000/svg"),l(A,"width","20"),l(A,"height","20"),l(A,"fill","none"),l(A,"viewBox","0 0 24 22"),l(M,"class","pwv svelte-14yy6m9"),l(w,"class",X="errorMessage "+(t[6]?"error":"")+" svelte-14yy6m9"),l(J,"class",Y=xe(t[5].match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)&&t[4]&&(t[2]||t[3]==t[4])?"vaild":"")+" svelte-14yy6m9"),l(s,"class","form svelte-14yy6m9"),l(e,"class","display svelte-14yy6m9")},m(Z,$){S(Z,e,$),p(e,s),p(s,n),p(n,o),p(s,r),p(s,c),p(c,a),p(s,h),p(s,f),p(s,u),p(s,g),Ne(g,t[5]),p(s,b),p(s,x),p(s,L),p(s,C),Ne(C,t[4]),t[17](C),p(s,k),p(s,M),p(M,A),p(A,P),p(M,D),p(s,z),p(s,W),Q&&Q.m(s,null),p(s,I),p(s,w),p(w,U),p(s,re),p(s,J),p(J,K),g.focus(),G||(te=[T(Yn,"hashchange",t[7]),T(c,"click",t[12]),T(g,"input",t[13]),T(g,"keydown",t[14]),T(C,"input",t[15]),T(C,"keydown",t[16]),T(M,"click",t[18]),T(J,"click",t[8])],G=!0)},p(Z,[$]){$&4&&i!==(i=Z[2]?"Sign in":"Sign up")&&ae(o,i),$&4&&d!==(d=Z[2]?"\uD68C\uC6D0\uAC00\uC785":"\uB85C\uADF8\uC778")&&ae(a,d),$&32&&v!==(v=xe(Z[5]?Z[5].match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?"green":"red":"white")+" svelte-14yy6m9")&&l(g,"class",v),$&32&&g.value!==Z[5]&&Ne(g,Z[5]),$&16&&m!==(m=xe(Z[4]?"green":"white")+" svelte-14yy6m9")&&l(C,"class",m),$&16&&C.value!==Z[4]&&Ne(C,Z[4]),$&1&&H!==(H=Z[0]?Z[0].type=="text"?Z[9].off:Z[9].on:Z[9].off)&&l(P,"d",H),Z[2]?Q&&(Q.d(1),Q=null):Q?Q.p(Z,$):(Q=us(Z),Q.c(),Q.m(s,I)),$&64&&ae(U,Z[6]),$&64&&X!==(X="errorMessage "+(Z[6]?"error":"")+" svelte-14yy6m9")&&l(w,"class",X),$&4&&R!==(R=Z[2]?"\uB85C\uADF8\uC778":"\uD68C\uC6D0\uAC00\uC785")&&ae(K,R),$&60&&Y!==(Y=xe(Z[5].match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)&&Z[4]&&(Z[2]||Z[3]==Z[4])?"vaild":"")+" svelte-14yy6m9")&&l(J,"class",Y)},i:oe,o:oe,d(Z){Z&&q(e),t[17](null),Q&&Q.d(),G=!1,he(te)}}}function Kn(t,e,s){let{socket:n}=e,i,o,r,c="",d="",a="",h="";const f=()=>{s(2,r=location.hash=="#/sign-in")};f();const u=()=>{s(0,i.type="password",i);try{s(1,o.type="password",o)}catch{}s(6,h=""),n.emit(r?"signin":"signup",{email:a,password:d})},g=w=>{window.localStorage.setItem("token",w),location.hash="#/DM/main"},v=w=>{s(6,h=`${w}`)},b=w=>{s(6,h=`${w}`)};n.on("signin",w=>w.token?g(w.token):b(w.error)),n.on("signup",w=>w.token?g(w.token):v(w.error));const x={on:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4Zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5Zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3Z",off:"M12 6.5c2.76 0 5 2.24 5 5 0 .51-.1 1-.24 1.46l3.06 3.06c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l2.17 2.17c.47-.14.96-.24 1.47-.24ZM2.71 3.16a.996.996 0 0 0 0 1.41l1.97 1.97A11.892 11.892 0 0 0 1 11.5C2.73 15.89 7 19 12 19c1.52 0 2.97-.3 4.31-.82l2.72 2.72a.996.996 0 1 0 1.41-1.41L4.13 3.16c-.39-.39-1.03-.39-1.42 0ZM12 16.5c-2.76 0-5-2.24-5-5 0-.77.18-1.5.49-2.14l1.57 1.57c-.03.18-.06.37-.06.57 0 1.66 1.34 3 3 3 .2 0 .38-.03.57-.07L14.14 16c-.65.32-1.37.5-2.14.5Zm2.97-5.33a2.97 2.97 0 0 0-2.64-2.64l2.64 2.64Z"},L=(w,U)=>{w.keyCode==13&&(U=="email"&&i.focus(),U=="password"&&!r&&o.focus(),U=="password"&&r&&(i.blur(),u()),U=="pwcheck"&&(o.blur(),u()))},C=()=>location.hash=r?"#/sign-up":"#/sign-in";function m(){a=this.value,s(5,a)}const k=w=>L(w,"email");function M(){d=this.value,s(4,d)}const A=w=>L(w,"password");function P(w){ye[w?"unshift":"push"](()=>{i=w,s(0,i)})}const H=()=>s(0,i.type=i.type=="text"?"password":"text",i);function D(){c=this.value,s(3,c)}const z=w=>L(w,"pwcheck");function W(w){ye[w?"unshift":"push"](()=>{o=w,s(1,o)})}const I=()=>s(1,o.type=o.type=="text"?"password":"text",o);return t.$$set=w=>{"socket"in w&&s(11,n=w.socket)},[i,o,r,c,d,a,h,f,u,x,L,n,C,m,k,M,A,P,H,D,z,W,I]}class Xn extends Ae{constructor(e){super(),Be(this,e,Kn,Wn,ve,{socket:11})}}const Me=Object.create(null);Me.open="0";Me.close="1";Me.ping="2";Me.pong="3";Me.message="4";Me.upgrade="5";Me.noop="6";const st=Object.create(null);Object.keys(Me).forEach(t=>{st[Me[t]]=t});const Jn={type:"error",data:"parser error"},jn=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Gn=typeof ArrayBuffer=="function",Qn=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Ls=({type:t,data:e},s,n)=>jn&&e instanceof Blob?s?n(e):vs(e,n):Gn&&(e instanceof ArrayBuffer||Qn(e))?s?n(e):vs(new Blob([e]),n):n(Me[t]+(e||"")),vs=(t,e)=>{const s=new FileReader;return s.onload=function(){const n=s.result.split(",")[1];e("b"+n)},s.readAsDataURL(t)},gs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fe=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(let t=0;t<gs.length;t++)Fe[gs.charCodeAt(t)]=t;const $n=t=>{let e=t.length*.75,s=t.length,n,i=0,o,r,c,d;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const a=new ArrayBuffer(e),h=new Uint8Array(a);for(n=0;n<s;n+=4)o=Fe[t.charCodeAt(n)],r=Fe[t.charCodeAt(n+1)],c=Fe[t.charCodeAt(n+2)],d=Fe[t.charCodeAt(n+3)],h[i++]=o<<2|r>>4,h[i++]=(r&15)<<4|c>>2,h[i++]=(c&3)<<6|d&63;return a},ei=typeof ArrayBuffer=="function",qs=(t,e)=>{if(typeof t!="string")return{type:"message",data:Ms(t,e)};const s=t.charAt(0);return s==="b"?{type:"message",data:ti(t.substring(1),e)}:st[s]?t.length>1?{type:st[s],data:t.substring(1)}:{type:st[s]}:Jn},ti=(t,e)=>{if(ei){const s=$n(t);return Ms(s,e)}else return{base64:!0,data:t}},Ms=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}},Ss=String.fromCharCode(30),si=(t,e)=>{const s=t.length,n=new Array(s);let i=0;t.forEach((o,r)=>{Ls(o,!1,c=>{n[r]=c,++i===s&&e(n.join(Ss))})})},ni=(t,e)=>{const s=t.split(Ss),n=[];for(let i=0;i<s.length;i++){const o=qs(s[i],e);if(n.push(o),o.type==="error")break}return n},Es=4;function pe(t){if(t)return ii(t)}function ii(t){for(var e in pe.prototype)t[e]=pe.prototype[e];return t}pe.prototype.on=pe.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};pe.prototype.once=function(t,e){function s(){this.off(t,s),e.apply(this,arguments)}return s.fn=e,this.on(t,s),this};pe.prototype.off=pe.prototype.removeListener=pe.prototype.removeAllListeners=pe.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+t];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<s.length;i++)if(n=s[i],n===e||n.fn===e){s.splice(i,1);break}return s.length===0&&delete this._callbacks["$"+t],this};pe.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),s=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(s){s=s.slice(0);for(var n=0,i=s.length;n<i;++n)s[n].apply(this,e)}return this};pe.prototype.emitReserved=pe.prototype.emit;pe.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};pe.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Oe=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())();function Bs(t,...e){return e.reduce((s,n)=>(t.hasOwnProperty(n)&&(s[n]=t[n]),s),{})}const li=setTimeout,oi=clearTimeout;function at(t,e){e.useNativeTimers?(t.setTimeoutFn=li.bind(Oe),t.clearTimeoutFn=oi.bind(Oe)):(t.setTimeoutFn=setTimeout.bind(Oe),t.clearTimeoutFn=clearTimeout.bind(Oe))}const ri=1.33;function ai(t){return typeof t=="string"?ci(t):Math.ceil((t.byteLength||t.size)*ri)}function ci(t){let e=0,s=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?s+=1:e<2048?s+=2:e<55296||e>=57344?s+=3:(n++,s+=4);return s}class di extends Error{constructor(e,s,n){super(e),this.description=s,this.context=n,this.type="TransportError"}}class As extends pe{constructor(e){super(),this.writable=!1,at(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,s,n){return super.emitReserved("error",new di(e,s,n)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const s=qs(e,this.socket.binaryType);this.onPacket(s)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const Ds="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),pt=64,hi={};let ms=0,Qe=0,bs;function xs(t){let e="";do e=Ds[t%pt]+e,t=Math.floor(t/pt);while(t>0);return e}function Ts(){const t=xs(+new Date);return t!==bs?(ms=0,bs=t):t+"."+xs(ms++)}for(;Qe<pt;Qe++)hi[Ds[Qe]]=Qe;function Ns(t){let e="";for(let s in t)t.hasOwnProperty(s)&&(e.length&&(e+="&"),e+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return e}function pi(t){let e={},s=t.split("&");for(let n=0,i=s.length;n<i;n++){let o=s[n].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}let Os=!1;try{Os=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch{}const fi=Os;function Rs(t){const e=t.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!e||fi))return new XMLHttpRequest}catch{}if(!e)try{return new Oe[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function ui(){}const vi=function(){return new Rs({xdomain:!1}).responseType!=null}();class gi extends As{constructor(e){if(super(e),this.polling=!1,typeof location!="undefined"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==n}const s=e&&e.forceBase64;this.supportsBinary=vi&&!s}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const s=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||s()})),this.writable||(n++,this.once("drain",function(){--n||s()}))}else s()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const s=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};ni(e,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,si(e,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const s=this.opts.secure?"https":"http";let n="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=Ts()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(s==="https"&&Number(this.opts.port)!==443||s==="http"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port);const i=Ns(e),o=this.opts.hostname.indexOf(":")!==-1;return s+"://"+(o?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new qe(this.uri(),e)}doWrite(e,s){const n=this.request({method:"POST",data:e});n.on("success",s),n.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(s,n)=>{this.onError("xhr poll error",s,n)}),this.pollXhr=e}}class qe extends pe{constructor(e,s){super(),at(this,s),this.opts=s,this.method=s.method||"GET",this.uri=e,this.async=s.async!==!1,this.data=s.data!==void 0?s.data:null,this.create()}create(){const e=Bs(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const s=this.xhr=new Rs(e);try{s.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let n in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(n)&&s.setRequestHeader(n,this.opts.extraHeaders[n])}}catch{}if(this.method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{s.readyState===4&&(s.status===200||s.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof s.status=="number"?s.status:0)},0))},s.send(this.data)}catch(n){this.setTimeoutFn(()=>{this.onError(n)},0);return}typeof document!="undefined"&&(this.index=qe.requestsCount++,qe.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=ui,e)try{this.xhr.abort()}catch{}typeof document!="undefined"&&delete qe.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}qe.requestsCount=0;qe.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",ks);else if(typeof addEventListener=="function"){const t="onpagehide"in Oe?"pagehide":"unload";addEventListener(t,ks,!1)}}function ks(){for(let t in qe.requests)qe.requests.hasOwnProperty(t)&&qe.requests[t].abort()}const mi=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,s)=>s(e,0))(),$e=Oe.WebSocket||Oe.MozWebSocket,_s=!0,bi="arraybuffer",ws=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class xi extends As{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),s=this.opts.protocols,n=ws?{}:Bs(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=_s&&!ws?s?new $e(e,s):new $e(e):new $e(e,s,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType||bi,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let s=0;s<e.length;s++){const n=e[s],i=s===e.length-1;Ls(n,this.supportsBinary,o=>{const r={};try{_s&&this.ws.send(o)}catch{}i&&mi(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const s=this.opts.secure?"wss":"ws";let n="";this.opts.port&&(s==="wss"&&Number(this.opts.port)!==443||s==="ws"&&Number(this.opts.port)!==80)&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=Ts()),this.supportsBinary||(e.b64=1);const i=Ns(e),o=this.opts.hostname.indexOf(":")!==-1;return s+"://"+(o?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}check(){return!!$e}}const ki={websocket:xi,polling:gi},_i=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,wi=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ft(t){const e=t,s=t.indexOf("["),n=t.indexOf("]");s!=-1&&n!=-1&&(t=t.substring(0,s)+t.substring(s,n).replace(/:/g,";")+t.substring(n,t.length));let i=_i.exec(t||""),o={},r=14;for(;r--;)o[wi[r]]=i[r]||"";return s!=-1&&n!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=yi(o,o.path),o.queryKey=Ci(o,o.query),o}function yi(t,e){const s=/\/{2,9}/g,n=e.replace(s,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&n.splice(0,1),e.substr(e.length-1,1)=="/"&&n.splice(n.length-1,1),n}function Ci(t,e){const s={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,o){i&&(s[i]=o)}),s}class Te extends pe{constructor(e,s={}){super(),e&&typeof e=="object"&&(s=e,e=null),e?(e=ft(e),s.hostname=e.host,s.secure=e.protocol==="https"||e.protocol==="wss",s.port=e.port,e.query&&(s.query=e.query)):s.host&&(s.hostname=ft(s.host).host),at(this,s),this.secure=s.secure!=null?s.secure:typeof location!="undefined"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=s.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=s.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},s),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=pi(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const s=Object.assign({},this.opts.query);s.EIO=Es,s.transport=e,this.id&&(s.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new ki[e](n)}open(){let e;if(this.opts.rememberUpgrade&&Te.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",s=>this.onClose("transport close",s))}probe(e){let s=this.createTransport(e),n=!1;Te.priorWebsocketSuccess=!1;const i=()=>{n||(s.send([{type:"ping",data:"probe"}]),s.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;Te.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(h(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const u=new Error("probe error");u.transport=s.name,this.emitReserved("upgradeError",u)}}))};function o(){n||(n=!0,h(),s.close(),s=null)}const r=f=>{const u=new Error("probe error: "+f);u.transport=s.name,o(),this.emitReserved("upgradeError",u)};function c(){r("transport closed")}function d(){r("socket closed")}function a(f){s&&f.name!==s.name&&o()}const h=()=>{s.removeListener("open",i),s.removeListener("error",r),s.removeListener("close",c),this.off("close",d),this.off("upgrading",a)};s.once("open",i),s.once("error",r),s.once("close",c),this.once("close",d),this.once("upgrading",a),s.open()}onOpen(){if(this.readyState="open",Te.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let e=0;const s=this.upgrades.length;for(;e<s;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const s=new Error("server error");s.code=e.data,this.onError(s);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(s+=ai(i)),n>0&&s>this.maxPayload)return this.writeBuffer.slice(0,n);s+=2}return this.writeBuffer}write(e,s,n){return this.sendPacket("message",e,s,n),this}send(e,s,n){return this.sendPacket("message",e,s,n),this}sendPacket(e,s,n,i){if(typeof s=="function"&&(i=s,s=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const o={type:e,data:s,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),e()},n=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){Te.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,s){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,s),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const s=[];let n=0;const i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&s.push(e[n]);return s}}Te.protocol=Es;function Ii(t,e="",s){let n=t;s=s||typeof location!="undefined"&&location,t==null&&(t=s.protocol+"//"+s.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=s.protocol+t:t=s.host+t),/^(https?|wss?):\/\//.test(t)||(typeof s!="undefined"?t=s.protocol+"//"+t:t="https://"+t),n=ft(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const o=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port+e,n.href=n.protocol+"://"+o+(s&&s.port===n.port?"":":"+n.port),n}const Li=typeof ArrayBuffer=="function",qi=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,zs=Object.prototype.toString,Mi=typeof Blob=="function"||typeof Blob!="undefined"&&zs.call(Blob)==="[object BlobConstructor]",Si=typeof File=="function"||typeof File!="undefined"&&zs.call(File)==="[object FileConstructor]";function bt(t){return Li&&(t instanceof ArrayBuffer||qi(t))||Mi&&t instanceof Blob||Si&&t instanceof File}function nt(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let s=0,n=t.length;s<n;s++)if(nt(t[s]))return!0;return!1}if(bt(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return nt(t.toJSON(),!0);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&nt(t[s]))return!0;return!1}function Ei(t){const e=[],s=t.data,n=t;return n.data=ut(s,e),n.attachments=e.length,{packet:n,buffers:e}}function ut(t,e){if(!t)return t;if(bt(t)){const s={_placeholder:!0,num:e.length};return e.push(t),s}else if(Array.isArray(t)){const s=new Array(t.length);for(let n=0;n<t.length;n++)s[n]=ut(t[n],e);return s}else if(typeof t=="object"&&!(t instanceof Date)){const s={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=ut(t[n],e));return s}return t}function Bi(t,e){return t.data=vt(t.data,e),t.attachments=void 0,t}function vt(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=vt(t[s],e);else if(typeof t=="object")for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=vt(t[s],e));return t}const Ai=5;var ee;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(ee||(ee={}));class Di{constructor(e){this.replacer=e}encode(e){return(e.type===ee.EVENT||e.type===ee.ACK)&&nt(e)?(e.type=e.type===ee.EVENT?ee.BINARY_EVENT:ee.BINARY_ACK,this.encodeAsBinary(e)):[this.encodeAsString(e)]}encodeAsString(e){let s=""+e.type;return(e.type===ee.BINARY_EVENT||e.type===ee.BINARY_ACK)&&(s+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(s+=e.nsp+","),e.id!=null&&(s+=e.id),e.data!=null&&(s+=JSON.stringify(e.data,this.replacer)),s}encodeAsBinary(e){const s=Ei(e),n=this.encodeAsString(s.packet),i=s.buffers;return i.unshift(n),i}}class xt extends pe{constructor(e){super(),this.reviver=e}add(e){let s;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(e),s.type===ee.BINARY_EVENT||s.type===ee.BINARY_ACK?(this.reconstructor=new Ti(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(bt(e)||e.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(e),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let s=0;const n={type:Number(e.charAt(0))};if(ee[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===ee.BINARY_EVENT||n.type===ee.BINARY_ACK){const o=s+1;for(;e.charAt(++s)!=="-"&&s!=e.length;);const r=e.substring(o,s);if(r!=Number(r)||e.charAt(s)!=="-")throw new Error("Illegal attachments");n.attachments=Number(r)}if(e.charAt(s+1)==="/"){const o=s+1;for(;++s&&!(e.charAt(s)===","||s===e.length););n.nsp=e.substring(o,s)}else n.nsp="/";const i=e.charAt(s+1);if(i!==""&&Number(i)==i){const o=s+1;for(;++s;){const r=e.charAt(s);if(r==null||Number(r)!=r){--s;break}if(s===e.length)break}n.id=Number(e.substring(o,s+1))}if(e.charAt(++s)){const o=this.tryParse(e.substr(s));if(xt.isPayloadValid(n.type,o))n.data=o;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,s){switch(e){case ee.CONNECT:return typeof s=="object";case ee.DISCONNECT:return s===void 0;case ee.CONNECT_ERROR:return typeof s=="string"||typeof s=="object";case ee.EVENT:case ee.BINARY_EVENT:return Array.isArray(s)&&s.length>0;case ee.ACK:case ee.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class Ti{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const s=Bi(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var Ni=Object.freeze(Object.defineProperty({__proto__:null,protocol:Ai,get PacketType(){return ee},Encoder:Di,Decoder:xt},Symbol.toStringTag,{value:"Module"}));function _e(t,e,s){return t.on(e,s),function(){t.off(e,s)}}const Oi=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ps extends pe{constructor(e,s,n){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=s,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[_e(e,"open",this.onopen.bind(this)),_e(e,"packet",this.onpacket.bind(this)),_e(e,"error",this.onerror.bind(this)),_e(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...s){if(Oi.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');s.unshift(e);const n={type:ee.EVENT,data:s};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const r=this.ids++,c=s.pop();this._registerAckCallback(r,c),n.id=r}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,s){const n=this.flags.timeout;if(n===void 0){this.acks[e]=s;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);s.call(this,new Error("operation has timed out"))},n);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(i),s.apply(this,[null,...o])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this.packet({type:ee.CONNECT,data:e})}):this.packet({type:ee.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,s)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ee.CONNECT:if(e.data&&e.data.sid){const i=e.data.sid;this.onconnect(i)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ee.EVENT:case ee.BINARY_EVENT:this.onevent(e);break;case ee.ACK:case ee.BINARY_ACK:this.onack(e);break;case ee.DISCONNECT:this.ondisconnect();break;case ee.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const s=e.data||[];e.id!=null&&s.push(this.ack(e.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const n of s)n.apply(this,e)}super.emit.apply(this,e)}ack(e){const s=this;let n=!1;return function(...i){n||(n=!0,s.packet({type:ee.ACK,id:e,data:i}))}}onack(e){const s=this.acks[e.id];typeof s=="function"&&(s.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ee.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const s=this._anyListeners;for(let n=0;n<s.length;n++)if(e===s[n])return s.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const s=this._anyOutgoingListeners;for(let n=0;n<s.length;n++)if(e===s[n])return s.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const n of s)n.apply(this,e.data)}}}function He(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}He.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),s=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-s:t+s}return Math.min(t,this.max)|0};He.prototype.reset=function(){this.attempts=0};He.prototype.setMin=function(t){this.ms=t};He.prototype.setMax=function(t){this.max=t};He.prototype.setJitter=function(t){this.jitter=t};class gt extends pe{constructor(e,s){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(s=e,e=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,at(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((n=s.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new He({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=e;const i=s.parser||Ni;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var s;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(s=this.backoff)===null||s===void 0||s.setMin(e),this)}randomizationFactor(e){var s;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(s=this.backoff)===null||s===void 0||s.setJitter(e),this)}reconnectionDelayMax(e){var s;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(s=this.backoff)===null||s===void 0||s.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Te(this.uri,this.opts);const s=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=_e(s,"open",function(){n.onopen(),e&&e()}),o=_e(s,"error",r=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",r),e?e(r):n.maybeReconnectOnOpen()});if(this._timeout!==!1){const r=this._timeout;r===0&&i();const c=this.setTimeoutFn(()=>{i(),s.close(),s.emit("error",new Error("timeout"))},r);this.opts.autoUnref&&c.unref(),this.subs.push(function(){clearTimeout(c)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(_e(e,"ping",this.onping.bind(this)),_e(e,"data",this.ondata.bind(this)),_e(e,"error",this.onerror.bind(this)),_e(e,"close",this.onclose.bind(this)),_e(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch{this.onclose("parse error")}}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,s){let n=this.nsps[e];return n||(n=new Ps(this,e,s),this.nsps[e]=n),n}_destroy(e){const s=Object.keys(this.nsps);for(const n of s)if(this.nsps[n].active)return;this._close()}_packet(e){const s=this.encoder.encode(e);for(let n=0;n<s.length;n++)this.engine.write(s[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,s){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},s);this.opts.autoUnref&&n.unref(),this.subs.push(function(){clearTimeout(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ze={};function it(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const s=Ii(t,e.path||"/socket.io"),n=s.source,i=s.id,o=s.path,r=Ze[i]&&o in Ze[i].nsps,c=e.forceNew||e["force new connection"]||e.multiplex===!1||r;let d;return c?d=new gt(n,e):(Ze[i]||(Ze[i]=new gt(n,e)),d=Ze[i]),s.query&&!e.query&&(e.query=s.queryKey),d.socket(s.path,e)}Object.assign(it,{Manager:gt,Socket:Ps,io:it,connect:it});const{window:Ri}=We;function zi(t){var g,v,b,x,L,C;let e,s,n,i,o,r,c,d,a,h,f,u;return e=new rn({props:{socket:t[18],chatChannelData:t[4]?(g=t[3])!=null?g:[]:(b=(v=t[2])==null?void 0:v.categories)!=null?b:[],currentServer:t[2],meInfo:t[6]}}),n=new fn({props:{chatChannelData:t[4]?t[13]:(x=t[10])!=null?x:{}}}),n.$on("click",t[20]),o=new In({props:{meInfo:t[6],socket:t[18],serverData:t[1],currentServer:t[4]?[]:t[2]}}),c=new An({props:{meInfo:t[6],socket:t[18]}}),a=new Vn({props:{socket:t[18],bannedUser:(L=t[9])!=null?L:[],usersData:[...t[7],...t[8]],currentServer:t[2],memberData:t[4]&&t[13]?[t[6],t[13]]:t[7]&&t[11]?t[7]:[],meInfo:t[6],sideMenuOn:t[5],chatsData:t[4]?(C=t[12])!=null?C:[]:t[7]&&t[11]?t[11]:[]}}),f=new Fn({props:{socket:t[18],currentCategory:t[0]}}),{c(){De(e.$$.fragment),s=B(),De(n.$$.fragment),i=B(),De(o.$$.fragment),r=B(),De(c.$$.fragment),d=B(),De(a.$$.fragment),h=B(),De(f.$$.fragment)},m(m,k){Se(e,m,k),S(m,s,k),Se(n,m,k),S(m,i,k),Se(o,m,k),S(m,r,k),Se(c,m,k),S(m,d,k),Se(a,m,k),S(m,h,k),Se(f,m,k),u=!0},p(m,k){var W,I,w,U,X,re;const M={};k&28&&(M.chatChannelData=m[4]?(W=m[3])!=null?W:[]:(w=(I=m[2])==null?void 0:I.categories)!=null?w:[]),k&4&&(M.currentServer=m[2]),k&64&&(M.meInfo=m[6]),e.$set(M);const A={};k&9232&&(A.chatChannelData=m[4]?m[13]:(U=m[10])!=null?U:{}),n.$set(A);const P={};k&64&&(P.meInfo=m[6]),k&2&&(P.serverData=m[1]),k&20&&(P.currentServer=m[4]?[]:m[2]),o.$set(P);const H={};k&64&&(H.meInfo=m[6]),c.$set(H);const D={};k&512&&(D.bannedUser=(X=m[9])!=null?X:[]),k&384&&(D.usersData=[...m[7],...m[8]]),k&4&&(D.currentServer=m[2]),k&10448&&(D.memberData=m[4]&&m[13]?[m[6],m[13]]:m[7]&&m[11]?m[7]:[]),k&64&&(D.meInfo=m[6]),k&32&&(D.sideMenuOn=m[5]),k&6288&&(D.chatsData=m[4]?(re=m[12])!=null?re:[]:m[7]&&m[11]?m[11]:[]),a.$set(D);const z={};k&1&&(z.currentCategory=m[0]),f.$set(z)},i(m){u||(ke(e.$$.fragment,m),ke(n.$$.fragment,m),ke(o.$$.fragment,m),ke(c.$$.fragment,m),ke(a.$$.fragment,m),ke(f.$$.fragment,m),u=!0)},o(m){we(e.$$.fragment,m),we(n.$$.fragment,m),we(o.$$.fragment,m),we(c.$$.fragment,m),we(a.$$.fragment,m),we(f.$$.fragment,m),u=!1},d(m){Ee(e,m),m&&q(s),Ee(n,m),m&&q(i),Ee(o,m),m&&q(r),Ee(c,m),m&&q(d),Ee(a,m),m&&q(h),Ee(f,m)}}}function Pi(t){let e,s;return e=new Xn({props:{socket:t[18]}}),{c(){De(e.$$.fragment)},m(n,i){Se(e,n,i),s=!0},p:oe,i(n){s||(ke(e.$$.fragment,n),s=!0)},o(n){we(e.$$.fragment,n),s=!1},d(n){Ee(e,n)}}}function ys(t){var C,m;let e,s,n,i,o,r=((C=t[16])==null?void 0:C.code)+"",c,d,a,h,f=((m=t[16])==null?void 0:m.message)+"",u,g,v;const b=[Pi,zi],x=[];function L(k,M){return["#/sign-in","#/sign-up"].includes(location.hash)?0:1}return e=L(),s=x[e]=b[e](t),{c(){s.c(),n=B(),i=_("div"),o=_("b"),c=j(r),d=j(" Error"),a=B(),h=_("p"),u=j(f),l(o,"class","svelte-1ke3x51"),l(h,"class","svelte-1ke3x51"),l(i,"class","error svelte-1ke3x51"),O(i,"right",(t[15]?"30":-t[17]-10)+"px"),lt(()=>t[21].call(i))},m(k,M){x[e].m(k,M),S(k,n,M),S(k,i,M),p(i,o),p(o,c),p(o,d),p(i,a),p(i,h),p(h,u),g=Ys(i,t[21].bind(i)),v=!0},p(k,M){var A,P;s.p(k,M),(!v||M&65536)&&r!==(r=((A=k[16])==null?void 0:A.code)+"")&&ae(c,r),(!v||M&65536)&&f!==(f=((P=k[16])==null?void 0:P.message)+"")&&ae(u,f),(!v||M&163840)&&O(i,"right",(k[15]?"30":-k[17]-10)+"px")},i(k){v||(ke(s),v=!0)},o(k){we(s),v=!1},d(k){x[e].d(k),k&&q(n),k&&q(i),g()}}}function Hi(t){let e,s,n,i,o=t[14],r,c,d,a=ys(t);return{c(){e=_("link"),s=_("style"),s.textContent=`*{\r
            font-family: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;\r
            font-variation-settings: 'wght' 400;\r
        }\r
        b{\r
            font-variation-settings: 'wght' 650;\r
        }`,n=B(),i=_("div"),a.c(),l(e,"rel","stylesheet"),l(e,"as","style"),l(e,"crossorigin","true"),l(e,"href","https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.6/dist/web/variable/pretendardvariable-dynamic-subset.css"),l(e,"class","svelte-1ke3x51"),l(s,"class","svelte-1ke3x51"),l(i,"class","display svelte-1ke3x51")},m(h,f){p(document.head,e),p(document.head,s),S(h,n,f),S(h,i,f),a.m(i,null),r=!0,c||(d=T(Ri,"hashchange",t[19]),c=!0)},p(h,[f]){f&16384&&ve(o,o=h[14])?(js(),we(a,1,1,oe),Gs(),a=ys(h),a.c(),ke(a,1),a.m(i,null)):a.p(h,f)},i(h){r||(ke(a),r=!0)},o(h){we(a),r=!1},d(h){q(e),q(s),h&&q(n),h&&q(i),a.d(h),c=!1,d()}}}function Vi(t,e,s){let n,i=[],o=!1,r=0,c={profile:"",name:"",description:"",multiProfiles:""},d=[],a=[],h=[],f,u,g=[],v=[],b=[],x,L,C=!1,m=!1,k,M,A=it("https://api.makalong.kro.kr:3000");const P=()=>{D()},H=()=>{if(window.localStorage.getItem("token")||(location.hash="#/sign-in"),["#/sign-in","#/sign-up"].includes(location.hash))return s(14,C=!0);window.localStorage.getItem("token")&&A.emit("login",{token:window.localStorage.getItem("token")})},D=()=>{var I;if(["#/sign-in","#/sign-up"].includes(location.hash))return s(14,C=!0);if(C&&A.emit("login",{token:window.localStorage.getItem("token")}),s(14,C=!1),location.hash.startsWith("#invite/")&&A.emit("inviteServer",{inviteCode:location.hash.replace("#invite/",""),token:window.localStorage.getItem("token")}),location.hash.replace("#/","").split("/").filter(w=>w).length==2){if(location.hash.replace("#/","").split("/")[0]=="DM"){location.hash.replace("#/","").split("/")[1]!="main"&&(s(13,L=v==null?void 0:v.find(w=>w.userId==Number(location.hash.replace("#/","").split("/")[1]))),L?A.emit("getDMChat",{userId:Number(location.hash.replace("#/","").split("/")[1]),token:window.localStorage.getItem("token")}):location.hash="#/DM/main"),s(12,b=[]),s(4,x=!0);return}else s(4,x=!1);if(s(2,u=i.find(w=>w.serverId==location.hash.replace("#/","").split("/")[0])),u&&(s(0,n=u.categories.find(w=>w.channels.map(U=>U.channelId).includes(Number(location.hash.replace("#/","").split("/")[1])))),s(10,f=(I=n==null?void 0:n.channels)==null?void 0:I.find(w=>w.channelId==location.hash.replace("#/","").split("/")[1])),A.emit("getMember",{serverId:u.serverId,token:window.localStorage.getItem("token")}),n||!n&&!f)){f?A.emit("getChat",{serverId:u.serverId,categoryId:n.categoryId,channelId:f.channelId,token:window.localStorage.getItem("token")}):(location.hash=`#/${location.hash.replace("#/","").split("/")[0]}/main`,A.emit("setServer",{serverId:u.serverId,token:window.localStorage.getItem("token")}));return}}location.hash="#/DM/main",s(4,x=!0)};A.on("getData",I=>{I.servers&&(s(1,i=I.servers),r+=1),I.me&&(s(6,c=I.me),r+=1),r==2&&D()}),A.on("login",I=>{I.stat==200?(A.emit("getData",{type:"me",token:window.localStorage.getItem("token")}),A.emit("getData",{type:"servers",token:window.localStorage.getItem("token")}),A.emit("DM",{token:window.localStorage.getItem("token")})):(window.localStorage.removeItem("token"),location.hash="#/sign-in")}),A.on("getChat",I=>{s(11,g=I)}),A.on("getMember",I=>{s(7,d=I[0]),s(8,a=I[1]),s(9,h=I[2])}),A.on("chat",I=>{s(11,g=[...g,I])}),A.on("deleteChat",I=>{s(11,g=g.filter(w=>w.chatId!=I.chatId))}),A.on("deleteDMChat",I=>{s(12,b=b.filter(w=>w.chatId!=I.chatId))}),A.on("getDMChat",I=>{s(12,b=I)}),A.on("DM",I=>{s(3,v=I)}),A.on("DMChat",I=>{(I.user1Id==location.hash.replace("#/","").split("/")[1]||I.user2Id==location.hash.replace("#/","").split("/")[1])&&s(12,b=[...b,I])}),A.on("openDM",I=>{s(3,v=[...v,I])}),A.on("openedDM",async I=>{I!=null&&I.userId?(s(3,v=[...v,I]),location.hash=`#/DM/${I.userId}`):location.hash=`#/DM/${I}`}),A.on("userDataEdit",I=>{s(6,c.profile=I.profile,c),s(6,c.description=I.description,c),s(6,c.name=I.name,c),s(7,d=d.map(w=>w=w.userId==I.userId?I:w))}),A.on("createServer",I=>{s(1,i=[...i,I]),location.hash=`#/${I.serverId}/${I.categories[0].channels[0].channelId}`}),A.on("inviteServer",I=>{s(1,i=[...i,I]),location.hash=`#/${I.serverId}/${I.categories[0].channels[0].channelId}`}),A.on("serverUpdated",async I=>{var w;s(1,i=i.map(U=>U=U.serverId==I.serverId?I:U)),s(10,f=await((w=n==null?void 0:n.channels)==null?void 0:w.find(U=>U.channelId==location.hash.replace("#/","").split("/")[1]))),f||(location.hash=`#/${location.hash.replace("#/","").split("/")[0]}/main`)}),A.on("memberUpdated",I=>{s(7,d=I[0]),s(8,a=I[1]),s(9,h=I[2])}),A.on("deleteServer",I=>{s(1,i=i.filter(w=>w.serverId!=I.serverId)),location.hash="#/DM/main"}),A.on("leaveServer",I=>{s(1,i=i.filter(w=>w.serverId!=I.serverId)),location.hash="#/DM/main"}),A.on("DMUserUpdated",I=>{s(3,v=v.map(w=>w=w.userId==I[0].userId?I[0]:w))}),A.on("error",I=>{s(16,k=I),s(15,m=!0),setTimeout(()=>s(15,m=!1),4e3)}),H();const z=()=>s(5,o=!o);function W(){M=this.clientWidth,s(17,M)}return t.$$.update=()=>{var I,w;t.$$.dirty&31&&(s(13,L=x?v==null?void 0:v.find(U=>U.userId==Number(location.hash.replace("#/","").split("/")[1])):void 0),s(2,u=i==null?void 0:i.find(U=>U.serverId==location.hash.replace("#/","").split("/")[0])),s(0,n=(I=u==null?void 0:u.categories)==null?void 0:I.find(U=>U.channels.map(X=>X.channelId).includes(Number(location.hash.replace("#/","").split("/")[1])))),s(10,f=(w=n==null?void 0:n.channels)==null?void 0:w.find(U=>U.channelId==location.hash.replace("#/","").split("/")[1])))},[n,i,u,v,x,o,c,d,a,h,f,g,b,L,C,m,k,M,A,P,z,W]}class Zi extends Ae{constructor(e){super(),Be(this,e,Vi,Hi,ve,{})}}function Ui(t){let e,s,n,i;return n=new Zi({}),{c(){e=_("style"),e.textContent=`*{
        margin: 0;
        padding: 0;
    }
    body{
        overflow: hidden;
    }`,s=B(),De(n.$$.fragment)},m(o,r){p(document.head,e),S(o,s,r),Se(n,o,r),i=!0},p:oe,i(o){i||(ke(n.$$.fragment,o),i=!0)},o(o){we(n.$$.fragment,o),i=!1},d(o){q(e),o&&q(s),Ee(n,o)}}}class Fi extends Ae{constructor(e){super(),Be(this,e,null,Ui,ve,{})}}new Fi({target:document.getElementById("app")});
